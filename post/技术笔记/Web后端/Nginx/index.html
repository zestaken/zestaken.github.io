<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <head>
    <link href="/styles/main.css" rel="stylesheet" type="text/css"/>

    <meta charset="UTF-8">
    
    <title>Nginx - ZestJourney</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/css/bootstrap.min.css">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/js/bootstrap.min.js"></script>

<script src="https://npm.elemecdn.com/@waline/client@v2/dist/waline.js"></script>
<link
  rel="stylesheet"
  href="https://npm.elemecdn.com/@waline/client@v2/dist/waline.css"
/>
<meta name="generator" content="Hexo 5.4.2"></head>

</head>

<body>
    


        <div>
            <div class="container-fluid position-relative">
                <nav class="navbar navbar-expand-lg navbar-dark  text-white bg-transparent">
                    <div class="container">
                        
                        <a class="navbar-brand" href="/">ğŸ’–æˆ‘ä»¬çš„ç§˜å¯†åŸºåœ°ğŸ’–</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarText">
                            <ul class="navbar-nav mr-auto">
                            </ul>
                            <span class="navbar-text">
                                ğŸ’•æ„¿ä½ ä¸‰å†¬æš–ï¼Œæ„¿ä½ æ˜¥ä¸å¯’ğŸ‚
                            </span>
                        </div>
                    </div>
                </nav>
                <section class="lover-background"
                    style="background-image: url(/img/banner.jpg)">
                </section>
                <section
                    class="container lover-container d-flex flex-column align-content-center justify-content-center">
                    <div class="row align-items-center pb-5 lover">
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zestaken.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">  
                                    zestaken
                                </h4>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex justify-content-center">
                                <div class="heart"></div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zinny.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">
                                    zinny
                                </h4>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="main-hero-waves-area waves-area">
                    <svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                            <path id="gentle-wave"
                                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z">
                            </path>
                        </defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="0"></use>
                            <use xlink:href="#gentle-wave" x="48" y="3"></use>
                            <use xlink:href="#gentle-wave" x="48" y="5"></use>
                            <use xlink:href="#gentle-wave" x="48" y="7"></use>
                        </g>
                    </svg>
                </section>
            </div>

            <div id="Pjax">

  <div class="list-content mx-auto mt-5">
      <div id="article" class="list-top">
          <h5 class="list-text"> Nginx
          </h5>
          <article>
              <article>
                <h1 id="nginxæ¦‚è¿°"><a class="markdownIt-Anchor" href="#nginxæ¦‚è¿°"></a> Nginxæ¦‚è¿°</h1>
<p><a target="_blank" rel="noopener" href="http://nginx.org/en/docs/">å®˜æ–¹æ–‡æ¡£</a></p>
<ul>
<li>Nginx(engine x)æ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ï¼Œåœ¨BSD-like åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨nginxç½‘ç«™ç”¨æˆ·æœ‰ï¼šç™¾åº¦ã€äº¬ä¸œã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ã€æ·˜å®ç­‰ã€‚</li>
<li>Nginxçš„åº”ç”¨åœºæ™¯ï¼š
<ol>
<li>httpæœåŠ¡å™¨ï¼šNginxæ˜¯ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œå¯ä»¥ç‹¬ç«‹æä¾›httpæœåŠ¡ï¼Œå¯ä»¥ç”¨ä½œç½‘é¡µé™æ€æœåŠ¡å™¨ã€‚</li>
<li>è™šæ‹Ÿä¸»æœºï¼šå¯ä»¥å®ç°åœ¨ä¸€å°æœåŠ¡å™¨è™šæ‹Ÿå‡ºå¤šä¸ªç½‘ç«™ã€‚</li>
<li>åå‘ä»£ç†ï¼Œè´Ÿè½½å‡è¡¡ï¼šå½“ç½‘ç«™çš„è®¿é—®é‡è¾¾åˆ°ä¸€å®šç¨‹åº¦åï¼Œå•å°æœåŠ¡å™¨ä¸èƒ½æ»¡è¶³ç”¨æˆ·çš„è¯·æ±‚æ—¶ï¼Œéœ€è¦ä½¿ç”¨å¤šå°æœåŠ¡å™¨é›†ç¾¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Nginxåšåå‘ä»£ç†ï¼Œå¹¶ä¸”å¤šå°æœåŠ¡å™¨å¯ä»¥å¹³å‡åˆ†æ‹…è´Ÿè½½ï¼ˆå³è´Ÿè½½å‡è¡¡ï¼‰ï¼Œä¸ä¼šå‡ºç°æŸå°æœåŠ¡å™¨è´Ÿè½½é«˜è€Œå®•æœºï¼Œè€Œå¦å¤–çš„æŸå°æœåŠ¡å™¨é—²ç½®çš„æƒ…å†µã€‚</li>
</ol>
</li>
</ul>
<h1 id="nginxåœ¨linuxä¸‹çš„å®‰è£…"><a class="markdownIt-Anchor" href="#nginxåœ¨linuxä¸‹çš„å®‰è£…"></a> Nginxåœ¨linuxä¸‹çš„å®‰è£…</h1>
<p><a target="_blank" rel="noopener" href="https://www.nginx.cn/install">å‚è€ƒæ–‡æ¡£</a></p>
<ol>
<li>å‡†å¤‡ç¼–è¯‘ç¯å¢ƒ(Ubuntuç³»åˆ—ï¼‰ï¼š</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-get install build-essential
apt-get install libtool</code></pre>
<ol start="2">
<li>å®‰è£…PCREåº“ï¼š
<ol>
<li><a target="_blank" rel="noopener" href="https://ftp.pcre.org/pub/pcre/">å®˜ç½‘ä¸‹è½½</a></li>
<li>è§£å‹åˆ°<code>/usr/local/src</code>ä¸‹ï¼Œéœ€è¦sudoæƒé™ï¼ˆåœ¨è¿™ä¸ªç›®å½•ä¸‹çš„æ“ä½œå¤§å¤šéƒ½éœ€è¦sudoæƒé™ï¼‰sd</li>
<li>è¿è¡Œconfigureæ–‡ä»¶ï¼Œç”Ÿæˆmakefileæ–‡ä»¶</li>
<li><code>make</code></li>
<li><code>sudo make install</code>,éœ€è¦sudoæƒé™ã€‚</li>
</ol>
</li>
<li>å®‰è£…Zlibåº“ï¼š
<ol>
<li><a target="_blank" rel="noopener" href="http://zlib.net/">å®˜ç½‘ä¸‹è½½</a></li>
<li>è§£å‹åˆ°<code>/usr/local/src</code>ä¸‹ï¼Œéœ€è¦sudoæƒé™</li>
<li>è¿è¡Œconfigureæ–‡ä»¶ï¼Œç”Ÿæˆmakefileæ–‡ä»¶</li>
<li><code>make</code></li>
<li><code>sudo make install</code>,éœ€è¦sudoæƒé™</li>
</ol>
</li>
<li>å®‰è£…ssl
<ol>
<li><a target="_blank" rel="noopener" href="https://www.openssl.org/source/">å®˜ç½‘ä¸‹è½½</a></li>
<li>è§£å‹åˆ°<code>/usr/local/src</code>ä¸‹ï¼Œéœ€è¦sudoæƒé™</li>
</ol>
</li>
<li>å®‰è£…Nginx
<ol>
<li><a target="_blank" rel="noopener" href="http://nginx.org/en/download.html">å®˜ç½‘ä¸‹è½½</a></li>
<li>è§£å‹åˆ°<code>/usr/local/src</code>ä¸‹ï¼Œéœ€è¦sudoæƒé™</li>
<li>è¿è¡Œconfigureæ–‡ä»¶ï¼Œç”Ÿæˆmakefileæ–‡ä»¶ï¼Œä¸è¿‡è¦é…ç½®ä¸€äº›å‚æ•°(å…¶ä¸­ä¾èµ–åº“çš„ç‰ˆæœ¬è¦ä¸è‡ªå·±å®‰è£…çš„å¯¹åº”ï¼‰ï¼š</li>
</ol>
</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.&#x2F;configure --sbin-path&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;nginx \
--conf-path&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;nginx.conf \
--pid-path&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;nginx.pid \
--with-http_gzip_static_module \
--with-http_stub_status_module \
--with-file-aio \
--with-http_realip_module \
--with-http_ssl_module \
--with-pcre&#x3D;&#x2F;usr&#x2F;local&#x2F;src&#x2F;pcre-8.44 \
--with-zlib&#x3D;&#x2F;usr&#x2F;local&#x2F;src&#x2F;zlib-1.2.11 \
--with-openssl&#x3D;&#x2F;usr&#x2F;local&#x2F;src&#x2F;openssl-1.1.1i</code></pre>
<ol start="4">
<li><code>make -j2</code>ï¼Œç”¨ä¸¤ä¸ªçº¿ç¨‹ç¼–è¯‘ï¼Œè¿™ä¸€æ­¥ç”¨æ—¶ç¨å¾®è¦ä¹…ä¸€ç‚¹</li>
<li><code>make install</code>ã€‚</li>
</ol>
<ul>
<li>å®‰è£…å¥½åï¼Œä¼šåœ¨<code>/usr/local</code>ç›®å½•ä¸‹ç”Ÿæˆnginxç›®å½•</li>
<li>ç›´æ¥è¿è¡Œnginxç›®å½•ä¸‹çš„nginxæ–‡ä»¶ï¼Œå³å¯å¯åŠ¨nginxæœåŠ¡å™¨ï¼Œé»˜è®¤ä¸º80ç«¯å£ï¼Œå¯ç›´æ¥ç”¨æœ¬æœºçš„ipåœ°å€è®¿é—®è¯¥æœåŠ¡å™¨ã€‚</li>
</ul>
<h1 id="å¸¸ç”¨æ§åˆ¶å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸¸ç”¨æ§åˆ¶å‘½ä»¤"></a> å¸¸ç”¨æ§åˆ¶å‘½ä»¤</h1>
<ul>
<li><code>./nginx -s stop</code>:ä¸­æ­¢æœåŠ¡å™¨ï¼Œéæ­£å¸¸å…³é—­;</li>
<li><code>./nginx -s quit</code>:æ­£å¸¸å…³é—­æœåŠ¡å™¨;</li>
<li><code>./nginx -s reload</code>:é‡æ–°åŠ è½½æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶(åœ¨æœåŠ¡å™¨å¯åŠ¨çš„æƒ…å†µä¸‹æ‰èƒ½é‡æ–°åŠ è½½)</li>
<li><code>./nginx -s reopen</code>:é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶</li>
</ul>
<h1 id="nginxéƒ¨ç½²é™æ€é¡µé¢"><a class="markdownIt-Anchor" href="#nginxéƒ¨ç½²é™æ€é¡µé¢"></a> Nginxéƒ¨ç½²é™æ€é¡µé¢</h1>
<ul>
<li>åœ¨<code>/usr/local/nginx</code>ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå­˜å‚¨é™æ€èµ„æºçš„ç›®å½•ï¼Œæ¯”å¦‚è¯´<code>/usr/local/nginx/data</code></li>
<li>ä¹‹åä¿®æ”¹<code>/usr/local/nginx</code>ç›®å½•ä¸‹çš„<code>nginx.conf</code>æ–‡ä»¶çš„serveræ¨¡å—ã€‚</li>
</ul>
<pre class="line-numbers language-conf" data-language="conf"><code class="language-conf">http &#123;
    include       mime.types;
    default_type  application&#x2F;octet-stream;

    #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;
    #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;
    #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;

    #access_log  logs&#x2F;access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    server &#123;
        listen       80;# é»˜è®¤ç«¯å£å·
        server_name  localhost; # åŸŸåæˆ–è€…ip

        #charset koi8-r;

        #access_log  logs&#x2F;host.access.log  main;

        location &#x2F; &#123; 
            root    data # é»˜è®¤è®¿é—®èµ„æºç›®å½• 
            index  index.html index.htm; #é»˜è®¤è®¿é—®èµ„æºæ–‡ä»¶å
        &#125;

        #error_page  404              &#x2F;404.html;

        # redirect server error pages to the static page &#x2F;50x.html
        #
        error_page   500 502 503 504  &#x2F;50x.html; # é”™è¯¯èµ„æº
        location &#x3D; &#x2F;50x.html &#123;
            root   html;
        &#125;

        # proxy the PHP scripts to Apache listening on 127.0.0.1:80
        #
        #location ~ \.php$ &#123;
        #    proxy_pass   http:&#x2F;&#x2F;127.0.0.1;
        #&#125;

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ &#123;
        #    root           html;
        #    fastcgi_pass   127.0.0.1:9000;
        #    fastcgi_index  index.php;
        #    fastcgi_param  SCRIPT_FILENAME  &#x2F;scripts$fastcgi_script_name;
        #    include        fastcgi_params;
        #&#125;

        # deny access to .htaccess files, if Apache&#39;s document root
        # concurs with nginx&#39;s one
        #
        #location ~ &#x2F;\.ht &#123;
        #    deny  all;
        #&#125;
    &#125;</code></pre>
<h1 id="é…ç½®è™šæ‹Ÿä¸»æœº"><a class="markdownIt-Anchor" href="#é…ç½®è™šæ‹Ÿä¸»æœº"></a> é…ç½®è™šæ‹Ÿä¸»æœº</h1>
<ul>
<li>è™šæ‹Ÿä¸»æœºå¯ä»¥ç†è§£ä¸ºåœ¨åŒä¸€ä¸ªæœåŠ¡å™¨é‡Œé¢éƒ¨ç½²å¤šä¸ªé¡¹ç›®ã€‚</li>
<li>åªéœ€è¦åœ¨<code>nginx.conf</code>æ–‡ä»¶ä¸­ï¼Œå¢åŠ <code>server</code>æ¨¡å—å³å¯ã€‚</li>
<li>ç«¯å£ç»‘å®šï¼š
<ul>
<li>å³ä¿®æ”¹serveræ¨¡å—ä¸­çš„listené€‰é¡¹ï¼Œç”¨ä¸åŒçš„ç«¯å£å·æ¥è®¿é—®ä¸åŒçš„èµ„æºã€‚</li>
</ul>
</li>
<li>åŸŸåç»‘å®šï¼š
<ul>
<li>ä¸€ä¸ªipå¯ä»¥å¯¹åº”å¤šä¸ªåŸŸåï¼Œæ‰€ä»¥æœ¬æœºçš„ipåœ°å€å¯ä»¥è®¾ç½®å¤šä¸ªå¯¹åº”çš„åŸŸåï¼ˆéœ€è¦ä¿®æ”¹æœ¬æœºçš„hostsæ–‡ä»¶ï¼‰</li>
<li>ç„¶åä¿®æ”¹serveræ¨¡å—çš„server_nameä¸ºä¸åŒçš„åŸŸåï¼Œå³å¯ä»¥ç”¨ä¸åŒçš„åŸŸåæ¥è®¿é—®ä¸åŒçš„èµ„æºã€‚</li>
</ul>
</li>
</ul>
<h1 id="nginxçš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#nginxçš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡"></a> Nginxçš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡</h1>
<ul>
<li><strong>æ­£å‘ä»£ç†(ä»£ç†)</strong>:æ„æ€æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶å<strong>ä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯</strong>ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20210203122231.jpeg" alt="" /></li>
<li><strong>åå‘ä»£ç†</strong>:åå‘ä»£ç†æœåŠ¡å™¨ä½äºç”¨æˆ·ä¸ç›®æ ‡æœåŠ¡å™¨ä¹‹é—´ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ç›¸å½“äºç›®æ ‡æœåŠ¡å™¨ï¼Œå³ç”¨æˆ·<strong>ç›´æ¥è®¿é—®åå‘ä»£ç†æœåŠ¡å™¨å°±å¯ä»¥è·å¾—ç›®æ ‡æœåŠ¡å™¨çš„èµ„æº</strong>ã€‚åŒæ—¶ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ï¼Œä¹Ÿæ— é¡»åœ¨ç”¨æˆ·ç«¯ä½œä»»ä½•è®¾å®šã€‚åå‘ä»£ç†æœåŠ¡å™¨é€šå¸¸å¯ç”¨æ¥ä½œä¸ºWebåŠ é€Ÿï¼Œå³ä½¿ç”¨åå‘ä»£ç†ä½œä¸ºWebæœåŠ¡å™¨çš„å‰ç½®æœºæ¥é™ä½ç½‘ç»œå’ŒæœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæé«˜è®¿é—®æ•ˆç‡ã€‚<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20210203122317.jpeg" alt="" /></li>
</ul>
<h2 id="é…ç½®nginxçš„åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#é…ç½®nginxçš„åå‘ä»£ç†"></a> é…ç½®Nginxçš„åå‘ä»£ç†</h2>
<ul>
<li>ä¿®æ”¹<code>nginx.conf</code>é…ç½®æ–‡ä»¶;</li>
</ul>
<pre class="line-numbers language-conf" data-language="conf"><code class="language-conf">http &#123;
  include       mime.types;
  default_type  application&#x2F;octet-stream;

  #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;
  #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;
  #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;

  #access_log  logs&#x2F;access.log  main;

  sendfile        on;
  #tcp_nopush     on;

  #keepalive_timeout  0;
  keepalive_timeout  65;

  #gzip  on;

  upstream tomcat1 &#123; # tomcat1æ˜¯ä¸ºè¢«ä»£ç†æœåŠ¡å™¨è‡ªå·±å–çš„åå­—
     server 192.168.177.129:8080 # è¢«ä»£ç†æœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£
  &#125;

  server &#123;
      listen       80;# é»˜è®¤ç«¯å£å·
      server_name  localhost; # åŸŸåæˆ–è€…ip

      #charset koi8-r;

      #access_log  logs&#x2F;host.access.log  main;

      location &#x2F; &#123; 
          root    data # é»˜è®¤è®¿é—®èµ„æºç›®å½• 
          proxy_pass   http:&#x2F;&#x2F;tomcat1; # è¢«ä»£ç†æœåŠ¡å™¨çš„çš„åå­—ä½œä¸ºåé¢éƒ¨åˆ†
          index  index.html index.htm; #é»˜è®¤è®¿é—®èµ„æºæ–‡ä»¶å
      &#125;

      #error_page  404              &#x2F;404.html;

      # redirect server error pages to the static page &#x2F;50x.html
      #
      error_page   500 502 503 504  &#x2F;50x.html; # é”™è¯¯èµ„æº
      location &#x3D; &#x2F;50x.html &#123;
          root   html;
      &#125;

      # proxy the PHP scripts to Apache listening on 127.0.0.1:80
      #
      #location ~ \.php$ &#123;
      #    proxy_pass   http:&#x2F;&#x2F;127.0.0.1;
      #&#125;

      # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
      #
      #location ~ \.php$ &#123;
      #    root           html;
      #    fastcgi_pass   127.0.0.1:9000;
      #    fastcgi_index  index.php;
      #    fastcgi_param  SCRIPT_FILENAME  &#x2F;scripts$fastcgi_script_name;
      #    include        fastcgi_params;
      #&#125;

      # deny access to .htaccess files, if Apache&#39;s document root
      # concurs with nginx&#39;s one
      #
      #location ~ &#x2F;\.ht &#123;
      #    deny  all;
      #&#125;
  &#125;</code></pre>
<h2 id="é…ç½®nginxçš„è´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#é…ç½®nginxçš„è´Ÿè½½å‡è¡¡"></a> é…ç½®Nginxçš„è´Ÿè½½å‡è¡¡</h2>
<ul>
<li>ä¿®æ”¹<code>nginx.conf</code>çš„é…ç½®æ–‡ä»¶ï¼š</li>
</ul>
<pre class="highlight"><code class="conf">  http &#123;
    include       mime.types;
    default_type  application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
    #                  '$status $body_bytes_sent &quot;$http_referer&quot; '
    #                  '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    #å¦‚æœé…ç½®äº†å¤šå°æœåŠ¡å™¨åœ¨è¿™é‡Œé¢ï¼Œnginxä¼šæŒ‰ç…§æƒé‡å€¼åˆ†é…å¯¹è¿™ä¸‰å°æœåŠ¡å™¨çš„è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™æƒé‡å€¼é»˜è®¤ä¸º1
    upstream tomcats &#123; # tomcatsæ˜¯ä¸ºè¢«ä»£ç†æœåŠ¡å™¨è‡ªå·±å–çš„åå­—
       server 192.168.177.129:8080 weight = 2; # è¢«ä»£ç†æœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£
       server 192.168.177.129:8081;# è¢«ä»£ç†æœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£
       server 192.168.177.129:8082; # è¢«ä»£ç†æœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£
    &#125;

    server &#123;
        listen       80;# é»˜è®¤ç«¯å£å·
        server_name  localhost; # åŸŸåæˆ–è€…ip

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

        location / &#123; 
            root    data # é»˜è®¤è®¿é—®èµ„æºç›®å½• 
            proxy_pass   http://tomcats; # è¢«ä»£ç†æœåŠ¡å™¨çš„çš„åå­—ä½œä¸ºåé¢éƒ¨åˆ†
            index  index.html index.htm; #é»˜è®¤è®¿é—®èµ„æºæ–‡ä»¶å
        &#125;

        #error_page  404              /404.html;

        # redirect server error pages to the static page /50x.html
        #
        error_page   500 502 503 504  /50x.html; # é”™è¯¯èµ„æº
        location = /50x.html &#123;
            root   html;
        &#125;

        # proxy the PHP scripts to Apache listening on 127.0.0.1:80
        #
        #location ~ \.php$ &#123;
        #    proxy_pass   http://127.0.0.1;
        #&#125;

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ &#123;
        #    root           html;
        #    fastcgi_pass   127.0.0.1:9000;
        #    fastcgi_index  index.php;
        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
        #    include        fastcgi_params;
        #&#125;

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht &#123;
        #    deny  all;
        #&#125;
    &#125;

</code></pre>

              </article>
          </article>
      </div>
  </div>

</div>



        </div>


        <!-- <div class="p-5 text-center ">
  <p class="h6"> <a href="https://beian.miit.gov.cn/" target="_blank">èœ€ICPå¤‡2021022902å·-1</a> â€» <a
          href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">å·å…¬ç½‘å®‰å¤‡51010802032250å·</a></p>
</div> -->

<!-- <div class="p-5 text-center">
  <img src="/img/beian_icon.png" alt="å¤‡æ¡ˆå›¾æ ‡" class="icon" style="max-width: 48px; max-height: 48px; vertical-align: middle;">
  <p class="h6">
    <a href="https://beian.miit.gov.cn/" target="_blank">èœ€ICPå¤‡2021022902å·-1</a> â€»
    <a href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">å·å…¬ç½‘å®‰å¤‡51010802032250å·</a>
  </p>
</div> -->

<div class="p-5 text-center ">
  <p class="h6"> zestaken â¤ï¸ zinny </p>
</div>
</body>

</html>