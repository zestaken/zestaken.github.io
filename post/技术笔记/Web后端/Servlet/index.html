<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <head>
    <link href="/styles/main.css" rel="stylesheet" type="text/css"/>

    <meta charset="UTF-8">
    
    <title>Servlet - ZestJourney</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/css/bootstrap.min.css">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/js/bootstrap.min.js"></script>

<script src="https://npm.elemecdn.com/@waline/client@v2/dist/waline.js"></script>
<link
  rel="stylesheet"
  href="https://npm.elemecdn.com/@waline/client@v2/dist/waline.css"
/>
<meta name="generator" content="Hexo 5.4.2"></head>

</head>

<body>
    


        <div>
            <div class="container-fluid position-relative">
                <nav class="navbar navbar-expand-lg navbar-dark  text-white bg-transparent">
                    <div class="container">
                        
                        <a class="navbar-brand" href="/">ğŸ’–æˆ‘ä»¬çš„ç§˜å¯†åŸºåœ°ğŸ’–</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarText">
                            <ul class="navbar-nav mr-auto">
                            </ul>
                            <span class="navbar-text">
                                ğŸ’•æ„¿ä½ ä¸‰å†¬æš–ï¼Œæ„¿ä½ æ˜¥ä¸å¯’ğŸ‚
                            </span>
                        </div>
                    </div>
                </nav>
                <section class="lover-background"
                    style="background-image: url(/img/banner.jpg)">
                </section>
                <section
                    class="container lover-container d-flex flex-column align-content-center justify-content-center">
                    <div class="row align-items-center pb-5 lover">
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zestaken.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">  
                                    zestaken
                                </h4>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex justify-content-center">
                                <div class="heart"></div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zinny.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">
                                    zinny
                                </h4>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="main-hero-waves-area waves-area">
                    <svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                            <path id="gentle-wave"
                                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z">
                            </path>
                        </defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="0"></use>
                            <use xlink:href="#gentle-wave" x="48" y="3"></use>
                            <use xlink:href="#gentle-wave" x="48" y="5"></use>
                            <use xlink:href="#gentle-wave" x="48" y="7"></use>
                        </g>
                    </svg>
                </section>
            </div>

            <div id="Pjax">

  <div class="list-content mx-auto mt-5">
      <div id="article" class="list-top">
          <h5 class="list-text"> Servlet
          </h5>
          <article>
              <article>
                <h1 id="servletç®€ä»‹"><a class="markdownIt-Anchor" href="#servletç®€ä»‹"></a> servletç®€ä»‹</h1>
<ul>
<li>Servletï¼šå³Server Appletã€‚</li>
<li>Servletå…¶å®å°±æ˜¯ä¸€ä¸ªéµå¾ªServletå¼€å‘çš„<strong>javaç±»</strong>ã€‚Servletæ˜¯ç”±<strong>æœåŠ¡å™¨è°ƒç”¨çš„ï¼Œè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯</strong>ã€‚Servlet<strong>æ²¡æœ‰mainæ–¹æ³•</strong>ï¼Œå®ƒçš„åˆ›å»ºã€ä½¿ç”¨ã€é”€æ¯éƒ½ç”±Servletå®¹å™¨(å³webæœåŠ¡å™¨ï¼‰è¿›è¡Œç®¡ç†ï¼ˆå¦‚Tomcatï¼šæä¾›äº†ServletåŠŸèƒ½çš„æœåŠ¡å™¨ç§°ä½œServletå®¹å™¨ï¼‰ã€‚å³è™½ç„¶æ²¡æœ‰mainæ–¹æ³•ï¼Œä½†æ˜¯é€šè¿‡Servletå®¹å™¨å¯ä»¥è‡ªåŠ¨è°ƒç”¨ã€‚</li>
<li>serveletç”¨æ¥å®ç°å¯¹æœåŠ¡å™¨çš„åŠ¨æ€èµ„æºçš„æ§åˆ¶ã€‚</li>
<li>serveletå°±æ˜¯ä¸€ä¸ª<strong>æ¥å£</strong>ï¼Œå®šä¹‰äº†javaç±»è¢«æµè§ˆå™¨è®¿é—®çš„è§„åˆ™ã€‚</li>
<li>æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»<strong>å®ç°serveletæ¥å£ï¼Œå¤å†™å…¶æ–¹æ³•</strong>ã€‚</li>
<li>Servletå¸¦ç»™æˆ‘ä»¬æœ€å¤§çš„ä½œç”¨å°±æ˜¯èƒ½å¤Ÿ<strong>å¤„ç†æµè§ˆå™¨å¸¦æ¥HTTPè¯·æ±‚</strong>ï¼Œå¹¶<strong>è¿”å›ä¸€ä¸ªå“åº”</strong>ç»™æµè§ˆå™¨ï¼Œä»è€Œå®ç°<strong>æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„äº¤äº’</strong>ã€‚servletæ˜¯ä½œç”¨äºæœåŠ¡å™¨è¿™ä¸€ç«¯ã€‚</li>
</ul>
<h1 id="å¿«é€Ÿå…¥é—¨"><a class="markdownIt-Anchor" href="#å¿«é€Ÿå…¥é—¨"></a> å¿«é€Ÿå…¥é—¨</h1>
<h2 id="ideaä¸Šé…ç½®tomcat"><a class="markdownIt-Anchor" href="#ideaä¸Šé…ç½®tomcat"></a> IDEAä¸Šé…ç½®tomcat</h2>
<ul>
<li>ä½¿ç”¨çš„ideæ˜¯IDEAï¼Œéœ€è¦å…ˆåœ¨IDEAä¸Šé…ç½®Tomcatã€‚(éœ€è¦IDEAçš„utilmateç‰ˆ).
<ol>
<li>ç‚¹å‡»Runâ€”EDit Configurationsâ€¦<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20201010165243.jpg" alt="" /><br />
2.ç‚¹å‡»å·¦ä¾§â€œ+â€å·ï¼Œæ‰¾åˆ°Tomcat Serverâ€”Localã€‚<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20201010165641.jpg" alt="" /><br />
3.æ‰¾åˆ°tomcatå­˜æ”¾ä½ç½®å¹¶é…ç½®åˆ°ideaä¸­ï¼š<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20201010165926.jpg" alt="" /></li>
</ol>
</li>
<li>IDEAä¼šä¸ºæ¯ä¸€ä¸ªtomcatéƒ¨ç½²çš„é¡¹ç›®å•ç‹¬å»ºç«‹ä¸€ä»½é…ç½®æ–‡ä»¶
<ul>
<li>æŸ¥çœ‹æ§åˆ¶å°çš„logæ‰¾åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ï¼š<code>CATALINA_BASE:     /home/zestaken/.cache/JetBrains/IntelliJIdea2020.2/tomcat/Tomcat_9_0_411_tomcat3</code></li>
</ul>
</li>
<li>WEB-INFç›®å½•ä¸‹çš„èµ„æºä¸èƒ½è¢«æµè§ˆå™¨ç›´æ¥è®¿é—®ã€‚</li>
</ul>
<h2 id="ç¼–å†™servletç¨‹åºçš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#ç¼–å†™servletç¨‹åºçš„æ­¥éª¤"></a> ç¼–å†™servletç¨‹åºçš„æ­¥éª¤</h2>
<ol>
<li>åˆ›å»º<strong>javaEE</strong>é¡¹ç›®</li>
<li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£ï¼š<code>public class ServletDemo1 implements Servlet</code></li>
<li>å®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</li>
<li>é…ç½®servletï¼Œåœ¨web.xmlä¸­</li>
</ol>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;!-- é…ç½®Servlet --&gt;
&lt;servlet&gt;
        &lt;servlet-name&gt;demo1&lt;&#x2F;servlet-name&gt;
        &lt;servlet-class&gt;web.ServletDemo1&lt;&#x2F;servlet-class&gt;
    &lt;&#x2F;servlet&gt;
    
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;demo1&lt;&#x2F;servlet-name&gt;
        &lt;url-pattern&gt;&#x2F;demo1&lt;&#x2F;url-pattern&gt;
    &lt;&#x2F;servlet-mapping&gt;</code></pre>
<h1 id="æ‰§è¡ŒåŸç†è§£æè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æ‰§è¡ŒåŸç†è§£æè¿‡ç¨‹"></a> æ‰§è¡ŒåŸç†/è§£æè¿‡ç¨‹</h1>
<ol>
<li>å½“æœåŠ¡å™¨æ¥å—åˆ°æµè§ˆå™¨çš„è¯·æ±‚åï¼Œä¼šè§£æURLè·¯å¾„ï¼Œè·å–è®¿é—®çš„<strong>Servlet</strong>çš„èµ„æºè·¯å¾„ã€‚</li>
<li>æŸ¥æ‰¾web.xmlæ–‡ä»¶ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„<code>&lt;url-pattern&gt;</code>æ ‡ç­¾å†…å®¹ã€‚</li>
<li>å¦‚æœæœ‰ï¼Œåˆ™å†æ‰¾åˆ°å¯¹åº”çš„<code>&lt;servlet-class&gt;</code>å…¨ç±»åã€‚</li>
<li>tomcatä¼šå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œå¹¶ä¸”åˆ›å»ºå…¶å¯¹è±¡ã€‚</li>
<li>è°ƒç”¨å…¶æ–¹æ³•ã€‚</li>
</ol>
<h1 id="ç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#ç”Ÿå‘½å‘¨æœŸ"></a> ç”Ÿå‘½å‘¨æœŸ</h1>
<ul>
<li>æ–¹æ³•</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">import javax.servlet.*;
import java.io.IOException;

public class ServletDemo1 implements Servlet &#123;
    &#x2F;**
     * åˆå§‹åŒ–æ–¹æ³•
     * åœ¨servletè¢«åˆ›å»ºæ—¶æ‰§è¡Œï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡
     * @param servletConfig
     * @throws ServletException
     *&#x2F;
    @Override
    public void init(ServletConfig servletConfig) throws ServletException &#123;
        System.out.println(&quot;init&quot;);
    &#125;

    &#x2F;**
     * è·å–ServletConfigå¯¹è±¡
     * ServletConfigï¼šServletçš„é…ç½®å¯¹è±¡
     * @return
     *&#x2F;
    @Override
    public ServletConfig getServletConfig() &#123;
        return null;
    &#125;

    &#x2F;**
     * æä¾›æœåŠ¡çš„æ–¹æ³•
     * æ¯ä¸€æ¬¡Servletè¢«è®¿é—®æ—¶ï¼Œæ‰§è¡Œï¼Œå¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼ˆæ¯åˆ·æ–°ä¸€æ¬¡é¡µé¢éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰
     * @param servletRequest
     * @param servletResponse
     * @throws ServletException
     * @throws IOException
     *&#x2F;
    @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException &#123;
        System.out.println(&quot;service&quot;);
    &#125;

    &#x2F;**
     * è·å–Servletçš„ä¸€äº›ä¿¡æ¯ï¼Œç‰ˆæœ¬ï¼Œä½œè€…ç­‰ã€‚
     * @return
     *&#x2F;
    @Override
    public String getServletInfo() &#123;
        return null;
    &#125;

    &#x2F;**
     * é”€æ¯æ–¹æ³•
     * åœ¨æœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚
     *&#x2F;
    @Override
    public void destroy() &#123;
        System.out.println(&quot;destroy&quot;);
    &#125;
&#125;</code></pre>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ
<ol>
<li>è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡,ä¸€èˆ¬ç”¨äº<strong>åŠ è½½èµ„æº</strong>.
<ol>
<li>Servletè¢«åˆ›å»ºçš„æ—¶é—´
<ol>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ˆå³åœ¨æµè§ˆå™¨ä¸­è®¿é—®è¯¥é¡µé¢æ—¶ï¼‰ï¼ŒServletè¢«åˆ›å»º</li>
<li>å¯ä»¥åœ¨web.xmlé…ç½®æ‰§è¡ŒServletçš„åˆ›å»ºæ—¶é—´ï¼š
<ul>
<li>åœ¨<code>&lt;servlet&gt;</code>æ ‡ç­¾ä¸‹é…ç½®
<ol>
<li>ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶åˆ›å»º:<code>&lt;load-on-startup&gt;</code>çš„å€¼ä¸ºè´Ÿæ•°</li>
<li>åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºï¼š<code>&lt;load-on-startup&gt;</code>çš„å€¼ä¸º0æˆ–è€…æ­£æ•°ã€‚</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
<li>Servletçš„initæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜ä¸€ä¸ªServletåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒServletæ˜¯å•ä¾‹çš„
<ol>
<li>å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®æ—¶ï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li>
<li>è§£å†³ï¼šå°½é‡ä¸å†åœ¨Servletä¸­å®šä¹‰æˆå‘˜å˜é‡ï¼Œå³ä½¿å®šä¹‰äº†ï¼Œä¹Ÿä¸è¦ä¿®æ”¹å®ƒã€‚</li>
</ol>
</li>
</ol>
</li>
<li>æä¾›æœåŠ¡ï¼šæ‰§è¡Œserviceæ–¹æ³•ï¼Œå¯æ‰§è¡Œå¤šæ¬¡
<ol>
<li>æ¯æ¬¡è¢«è®¿é—®Servletæ—¶ï¼ŒServiceæ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</li>
</ol>
</li>
<li>è¢«é”€æ¯ï¼šæ‰§è¡Œdestroyæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡
<ol>
<li>Servletè¢«é”€æ¯æ—¶æ‰§è¡Œã€‚</li>
<li>æœåŠ¡å™¨å…³é—­æ—¶ï¼ŒServletè¢«é”€æ¯</li>
<li>åªæœ‰æœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œdestroyæ–¹æ³•</li>
<li>destroyæ–¹æ³•åœ¨Servletè¢«é”€æ¯ä¹‹å‰æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äº<strong>é‡Šæ”¾èµ„æº</strong>ã€‚</li>
</ol>
</li>
</ol>
</li>
</ul>
<h1 id="æ³¨è§£é…ç½®"><a class="markdownIt-Anchor" href="#æ³¨è§£é…ç½®"></a> æ³¨è§£é…ç½®</h1>
<ul>
<li>Servlet3.0ä¹‹åï¼Œ**æ”¯æŒæ³¨è§£é…ç½®ï¼Œå¯ä»¥ä¸ç”¨å†™web.xmläº†ã€‚</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>åˆ›å»ºJavaEEé¡¹ç›®ï¼Œé€‰æ‹©Servletçš„ç‰ˆæœ¬3.0ä»¥ä¸Šï¼Œ<strong>å¯ä»¥ä¸åˆ›å»ºweb.xml</strong>(ä¹Ÿå¯ä»¥åˆ›å»ºï¼Œå› ä¸ºæ³¨è§£é…ç½®ä¼šè¦†ç›–web.xmlçš„é…ç½®)</li>
<li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£;</li>
<li>å¤å†™æ–¹æ³•;</li>
<li>åœ¨ç±»ä¸Šä½¿ç”¨<code>@WebServlet</code>æ³¨è§£ï¼Œè¿›è¡Œé…ç½®ï¼š
<ol>
<li><code>@WebServlet(loadOnStartup=&quot;èµ„æºè·¯å¾„å&quot;)</code>ä¸<code>@WebServlet(value=&quot;èµ„æºè·¯å¾„å&quot;)</code>ä¸<code>@WebServlet(&quot;èµ„æºè·¯å¾„å&quot;)</code>ç­‰æ•ˆã€‚</li>
</ol>
</li>
</ol>
</li>
<li><code>@WebServlet</code>æ³¨è§£çš„å…·ä½“å†…å®¹ï¼š</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">package javax.servlet.annotation;

import java.lang.annotation.Documented;
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target(&#123;ElementType.TYPE&#125;)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface WebServlet &#123;
    String name() default &quot;&quot;;

    String[] value() default &#123;&#125;;

    String[] urlPatterns() default &#123;&#125;;

    int loadOnStartup() default -1;

    WebInitParam[] initParams() default &#123;&#125;;

    boolean asyncSupported() default false;

    String smallIcon() default &quot;&quot;;

    String largeIcon() default &quot;&quot;;

    String description() default &quot;&quot;;

    String displayName() default &quot;&quot;;
&#125;</code></pre>
<h2 id="urlpartternçš„é…ç½®"><a class="markdownIt-Anchor" href="#urlpartternçš„é…ç½®"></a> urlpartternçš„é…ç½®</h2>
<ul>
<li>ä¸€ä¸ªServletå¯ä»¥å®šä¹‰å¤šä¸ªè®¿é—®è·¯å¾„ï¼Œ<code>@WebServlet(&#123;&quot;/d4&quot;.&quot;/dd4&quot;&#125;)</code>,å¦‚æœåªæœ‰ä¸€ä¸ªè·¯å¾„ï¼Œåˆ™å¤§æ‹¬å·å¯ä»¥çœç•¥ã€‚</li>
<li>è·¯å¾„çš„å®šä¹‰è§„åˆ™ï¼š
<ol>
<li><code>/xxx</code>;</li>
<li><code>/xxx/xxx</code>:å¤šå±‚è·¯å¾„ï¼Œç›®å½•ç»“æ„(ä¸æ­¢å¯ä»¥å†™ä¸¤å±‚ï¼Œå¯ä»¥å†™æ›´å¤šå±‚)</li>
<li><code>*.xxx</code>:ä¸ç®¡.ä¹‹å‰å†™çš„æ˜¯ä»€ä¹ˆï¼Œåªè¦æœ€åçš„åç¼€ä¸€æ ·å³å¯è®¿é—®ã€‚ä¸€èˆ¬æ˜¯<code>*.do</code>å½¢å¼ã€‚</li>
</ol>
</li>
<li>é€šé…ç¬¦<code>*</code>:<code>*</code>æ‰€å çš„ä½ç½®è¾“å…¥ä»»ä½•åå­—éƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¼˜å…ˆçº§å¾ˆä½ï¼ˆå³å¦‚æœæœ‰é‚£ä¸ªåå­—çš„èµ„æºï¼Œåˆ™è®¿é—®é‚£ä¸ªèµ„æºï¼‰ã€‚</li>
</ul>
<h1 id="servletçš„ä½“ç³»ç»“æ„"><a class="markdownIt-Anchor" href="#servletçš„ä½“ç³»ç»“æ„"></a> Servletçš„ä½“ç³»ç»“æ„</h1>
<ul>
<li>Servletæ¥å£ï¼šæœ€ä¸Šå±‚ã€‚</li>
<li>GenericServlet:å®ç°äº†Servletæ¥å£çš„<strong>æŠ½è±¡ç±»</strong>,å¤„äºç¬¬äºŒå±‚ã€‚
<ul>
<li>å°†Servletæ¥å£ä¸­çš„å…¶ä»–çš„æ–¹æ³•éƒ½åšäº†é»˜è®¤ç©ºå®ç°ï¼Œåªå°†service()æ–¹æ³•ä½œä¸ºæŠ½è±¡ã€‚</li>
<li>å°†æ¥å®šä¹‰Servletçš„ç±»æ—¶ï¼Œå¯ä»¥ç»§æ‰¿GenericServletï¼Œå®ç°<strong>service()æ–¹æ³•å³å¯</strong>ã€‚ï¼ˆä½†æ˜¯ä¸å¸¸ç”¨ï¼‰</li>
</ul>
</li>
<li>HttpServletï¼šç»§æ‰¿è‡ªGenricServletçš„<strong>æŠ½è±¡ç±»</strong>,å¤„äºç¬¬ä¸‰å±‚ã€‚
<ul>
<li>æ‰€æœ‰æ–¹æ³•éƒ½æ²¡æœ‰è¦æ±‚å®ç°ã€‚</li>
<li>å¯¹httpåè®®çš„ä¸€ç§å°è£…ï¼Œç®€åŒ–æ“ä½œã€‚</li>
<li>ä½¿ç”¨ï¼š
<ul>
<li>å®šä¹‰ç±»ç»§æ‰¿HttpServlet</li>
<li>å¤å†™doGet()/doPost()ç­‰æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="javawebçš„ç›®å½•ç»“æ„"><a class="markdownIt-Anchor" href="#javawebçš„ç›®å½•ç»“æ„"></a> JAVAWEBçš„ç›®å½•ç»“æ„</h1>
<p><img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20201009104107.png" alt="" /></p>
<ul>
<li>bbsç›®å½•ä»£è¡¨ä¸€ä¸ªwebåº”ç”¨</li>
<li>bbsç›®å½•ä¸‹çš„html,jspæ–‡ä»¶å¯ä»¥ç›´æ¥è¢«æµè§ˆå™¨è®¿é—®</li>
<li>WEB-INFç›®å½•ä¸‹çš„èµ„æºæ˜¯<strong>ä¸èƒ½ç›´æ¥è¢«æµè§ˆå™¨è®¿é—®</strong>çš„</li>
<li><code>web.xml</code>æ–‡ä»¶æ˜¯webç¨‹åºçš„<strong>ä¸»è¦é…ç½®æ–‡ä»¶</strong>ã€‚</li>
<li>æ‰€æœ‰çš„<strong>classes</strong>æ–‡ä»¶éƒ½æ”¾åœ¨classesç›®å½•ä¸‹</li>
<li><strong>jaræ–‡ä»¶</strong>æ”¾åœ¨libç›®å½•ä¸‹ã€‚</li>
</ul>
<h1 id="requestå¯¹è±¡å’Œresoponseå¯¹è±¡"><a class="markdownIt-Anchor" href="#requestå¯¹è±¡å’Œresoponseå¯¹è±¡"></a> Requestå¯¹è±¡å’ŒResoponseå¯¹è±¡</h1>
<h2 id="æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯äº¤äº’æµç¨‹"><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯äº¤äº’æµç¨‹"></a> æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯äº¤äº’æµç¨‹</h2>
<ol>
<li>tomcatæœåŠ¡å™¨ä¼šæ ¹æ®è¯·æ±‚urlä¸­çš„èµ„æºè·¯å¾„åˆ›å»ºå¯¹åº”çš„<strong>å®ç°Servletçš„ç±»çš„å¯¹è±¡</strong>;</li>
<li>tomcat<strong>æœåŠ¡å™¨</strong>ä¼šåˆ›å»º<strong>request</strong>å’Œ<strong>response</strong>å¯¹è±¡ï¼Œrequestå¯¹è±¡ä¸­å°è£…è¯·æ±‚çš„æ¶ˆæ¯æ•°æ®;</li>
<li>tomcatå°†requestå’Œresponseå¯¹è±¡ä¼ é€’ç»™<strong>service</strong>æ–¹æ³•ï¼Œå¹¶ä¸”è°ƒç”¨serviceæ–¹æ³•;</li>
<li>ç¨‹åºå‘˜é€šè¿‡requestå¯¹è±¡<strong>è·å–è¯·æ±‚çš„æ¶ˆæ¯æ•°æ®</strong>ï¼Œé€šè¿‡responseå¯¹è±¡**è®¾ç½®å“åº”çš„æ¶ˆæ¯æ•°æ®;</li>
<li>æœåŠ¡å™¨åœ¨ç»™æµè§ˆå™¨åšå‡ºå“åº”ä¹‹å‰ä¼šä»<strong>responseå¯¹è±¡</strong>ä¸­æ‹¿ç¨‹åºå‘˜è®¾ç½®çš„å“åº”æ¶ˆæ¯æ•°æ®ã€‚</li>
</ol>
<h2 id="requestå¯¹è±¡"><a class="markdownIt-Anchor" href="#requestå¯¹è±¡"></a> Requestå¯¹è±¡</h2>
<ul>
<li>åŸç†ï¼š
<ul>
<li>requestå¯¹è±¡å’Œreponseå¯¹è±¡æ˜¯ç”±æœåŠ¡å™¨åˆ›å»ºçš„;</li>
<li>requestå¯¹è±¡è·å–è¯·æ±‚æ¶ˆæ¯ï¼Œresponseå¯¹è±¡è®¾ç½®å“åº”æ¶ˆæ¯ã€‚</li>
</ul>
</li>
<li>requestå¯¹è±¡çš„ç»§æ‰¿ä½“ç³»ç»“æ„ï¼š
<ol>
<li>ServletRequest:æœ€ä¸Šå±‚æ¥å£;</li>
<li>HttpServletRequest:ç»§æ‰¿è‡ªServletRequestçš„æ¥å£;</li>
<li>org.apache.catalina.connector.RequestFacadeï¼štomcatå®ç°çš„å®ç°äº†HttpServletæ¥å£çš„ç±»ã€‚</li>
</ol>
</li>
</ul>
<h3 id="requeståŠŸèƒ½"><a class="markdownIt-Anchor" href="#requeståŠŸèƒ½"></a> requeståŠŸèƒ½</h3>
<h4 id="è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®"><a class="markdownIt-Anchor" href="#è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®"></a> è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®</h4>
<ol>
<li>è·å–è¯·æ±‚è¡Œæ•°æ®ï¼šï¼ˆgetæ–¹å¼å°±æ”¾åœ¨dogetæ–¹æ³•ä¸­ï¼ŒPOSTæ–¹æ³•åˆ™æ”¾åœ¨dopostæ–¹æ³•ä¸­ï¼‰</li>
<li><strong>è·å–è™šæ‹Ÿç›®å½•</strong>ï¼š<code>/tomcat3_war_exploded</code></li>
<li><code>String getContextPath();</code></li>
<li><strong>è·å–è¯·æ±‚çš„URIæˆ–URL</strong>:
<ol>
<li><code>String getRequestURI();</code>:è·å–URIï¼Œå¦‚ï¼š<code>/tomcat3_war_exploded/ServletDemo3</code></li>
<li><code>String getRequestURL();</code>è·å–URLï¼Œå¦‚ï¼š<code>http://localhost:8080/tomcat3_war_exploded/ServletDemo3</code></li>
<li>URIå’ŒURLéƒ½æ˜¯<strong>ç»Ÿä¸€èµ„æºå®šä½ç¬¦</strong>,ä½†æ˜¯URIè¡¨ç¤ºçš„èŒƒå›´æ¯”URLå¤§ã€‚</li>
</ol>
</li>
<li>è·å–Servletè·¯å¾„ï¼š<code>/ServletDemo3</code>
<ol>
<li><code>String getServletPath();</code></li>
</ol>
</li>
<li>è·å–getæ–¹å¼è¯·æ±‚å‚æ•°ï¼š
<ol>
<li><code>String getQueryString();</code>,å¦‚ï¼š<code>name=%22zhangsan%22&amp;age=13</code></li>
</ol>
</li>
<li>è·å–è¯·æ±‚å¤´æ•°æ®ï¼š
<ol>
<li><code>String getHeader(String name)</code>:é€šè¿‡è¯·æ±‚å¤´çš„åç§°è·å–è¯·æ±‚å¤´çš„æ•°æ®;</li>
<li><code>Enumeration&lt;String&gt; getHeaderName()</code>:è·å–æ‰€æœ‰çš„è¯·æ±‚å¤´æ•°æ®;</li>
</ol>
</li>
<li>è·å–è¯·æ±‚ä½“æ•°æ®ï¼š
<ol>
<li>è¯·æ±‚ä½“ï¼šåªæœ‰POSTæ–¹å¼æ‰æœ‰ã€‚</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>è·å–æµå¯¹è±¡ï¼š
<ol>
<li><code>BufferedReader getReader();</code>è·å–å­—ç¬¦è¾“å…¥æµï¼Œåªèƒ½æ“ä½œå­—ç¬¦æ•°æ®;</li>
<li><code>ServletInputStream getInputStream()</code>:è·å–å­—èŠ‚è¾“å…¥æµï¼Œå¯ä»¥æ“ä½œæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼›</li>
</ol>
</li>
<li>ä»æµå¯¹è±¡ä¸­å°†æ•°æ®æ‹¿å‡ºæ¥</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼"><a class="markdownIt-Anchor" href="#è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼"></a> è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼</h4>
<ul>
<li>ä¸è®ºæ˜¯getè¿˜æ˜¯postæ–¹å¼éƒ½å¯ä»¥ä½¿ç”¨ã€‚ï¼ˆå¦‚æœdogetå’Œdopostçš„ä»£ç å®Œå…¨ä¸€æ ·çš„è¯ï¼Œåœ¨dogeté‡Œå†™<code>this.doPost()</code>å³å¯)</li>
</ul>
<ol>
<li><strong>æ ¹æ®å‚æ•°åç§°æ¥è·å–å‚æ•°å€¼</strong>:<code>String getParameter(String name)</code>ï¼Œå¦‚æœä¸€ä¸ªå‚æ•°æœ‰å¤šä¸ªå€¼çš„è¯ï¼Œåˆ™æ— æ³•è·å–å®Œã€‚</li>
<li>æ ¹æ®å‚æ•°åç§°æ¥è·å–å‚æ•°å€¼çš„æ•°ç»„ï¼š<code>String[] getParameterValues(String name)</code>;</li>
<li>è·å–æ‰€æœ‰è¯·æ±‚çš„å‚æ•°åç§°ï¼š<code>Enumeration&lt;String&gt; getParameterNames()</code>;</li>
<li><strong>è·å–æ‰€æœ‰å‚æ•°çš„Mapé›†åˆ</strong>ï¼š<code>Map&lt;String, String[]&gt; getParameterMap()</code>ã€‚</li>
</ol>
<ul>
<li>è·å–è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š
<ul>
<li>getæ–¹å¼ï¼štomcat 8 å·²ç»å°†getæ–¹å¼ä¹±ç é—®é¢˜è§£å†³äº†;</li>
<li>postæ–¹å¼ï¼šåœ¨è·å–å‚æ•°å‰ï¼Œè®¾ç½®requestçš„ç¼–ç <code>request.setCharacterEncoding(&quot;utf-8&quot;);</code></li>
</ul>
</li>
</ul>
<h4 id="è¯·æ±‚è½¬å‘forward"><a class="markdownIt-Anchor" href="#è¯·æ±‚è½¬å‘forward"></a> è¯·æ±‚è½¬å‘(forward)</h4>
<ul>
<li>åœ¨æœåŠ¡å™¨å†…éƒ¨ä¹‹é—´çš„èµ„æºè·³è½¬æ–¹å¼ã€‚</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>é€šè¿‡requestå¯¹è±¡æ¥è·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡ï¼š<code>RequestDispatcher getRequestDispatcher(String path)</code></li>
<li>ä½¿ç”¨RequestDispatcherå¯¹è±¡æ¥è¿›è¡Œè½¬å‘ï¼š<code>forward(ServletRequest request, ServletResponse response)</code></li>
<li>ç¤ºä¾‹ï¼š<code>request.getRequestDispathcher(&quot;/ServletDemo4&quot;).forward(request,response)</code></li>
</ol>
</li>
<li>ç‰¹ç‚¹ï¼š
<ul>
<li>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸ä¼šå‘ç”Ÿå˜åŒ–;</li>
<li>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æºä¸­;</li>
<li>è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼ˆå³å¤šä¸ªèµ„æºå…±ç”¨ä¸€æ¬¡è¯·æ±‚çš„ä¿¡æ¯ï¼‰ã€‚<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20210106131528.png" alt="" /></li>
</ul>
</li>
</ul>
<h4 id="å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#å…±äº«æ•°æ®"></a> å…±äº«æ•°æ®</h4>
<ul>
<li>åŸŸå¯¹è±¡ï¼šä¸€ä¸ªæœ‰ä½œç”¨èŒƒå›´çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨èŒƒå›´å†…å…±äº«æ•°æ®;</li>
<li>requeståŸŸï¼šä»£è¡¨<strong>ä¸€æ¬¡è¯·æ±‚</strong>çš„èŒƒå›´ï¼Œä¸€èˆ¬ç”¨äºè¯·æ±‚è½¬å‘çš„å¤šä¸ªèµ„æºä¸­å…±äº«æ•°æ®;</li>
<li>requestå…±äº«æ•°æ®çš„æ–¹æ³•ï¼š
<ul>
<li>å­˜å‚¨æ•°æ®ï¼š<code>void setAttribute(String name, Object obj)</code>;</li>
<li>é€šè¿‡é”®è·å–å€¼ï¼š<code>Object getAttribute(String name)</code>;</li>
<li>é€šè¿‡é”®ç§»é™¤å€¼å¯¹ï¼š<code>void removeAttribute(String name)</code>;</li>
</ul>
</li>
</ul>
<h4 id="è·å–servletcontextå¯¹è±¡"><a class="markdownIt-Anchor" href="#è·å–servletcontextå¯¹è±¡"></a> è·å–ServletContextå¯¹è±¡</h4>
<ul>
<li>requestå¯¹è±¡è·å–ServletContextå¯¹è±¡çš„æ–¹æ³•ï¼š<code>ServletContext getServletContext();</code></li>
</ul>
<h2 id="responseå¯¹è±¡"><a class="markdownIt-Anchor" href="#responseå¯¹è±¡"></a> Responseå¯¹è±¡</h2>
<ul>
<li>åŠŸèƒ½ï¼šè®¾ç½®å“åº”æ¶ˆæ¯</li>
<li>è®¾ç½®<strong>å“åº”æ¶ˆæ¯</strong>:
<ul>
<li><code>setStatus(int sc)</code></li>
</ul>
</li>
<li>è®¾ç½®<strong>å“åº”å¤´</strong>:
<ul>
<li><code>setHeader(String name , String value)</code></li>
</ul>
</li>
<li>è®¾ç½®<strong>å“åº”ä½“</strong>:
<ol>
<li>è·å–è¾“å‡ºæµï¼š
<ol>
<li>å­—ç¬¦è¾“å‡ºæµï¼š<code>PrintWrtier getWriter()</code></li>
<li>å­—èŠ‚è¾“å‡ºæµï¼š<code>ServletOutputStream getOutputStream()</code></li>
</ol>
</li>
<li>ä½¿ç”¨è¾“å‡ºæµï¼šå°†æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ã€‚</li>
</ol>
</li>
</ul>
<h3 id="ä½¿ç”¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ¡ˆä¾‹"></a> ä½¿ç”¨æ¡ˆä¾‹</h3>
<h4 id="é‡å®šå‘redirect"><a class="markdownIt-Anchor" href="#é‡å®šå‘redirect"></a> é‡å®šå‘ï¼ˆredirect)</h4>
<ul>
<li>èµ„æºçš„è·³è½¬æ–¹å¼</li>
<li>æ–¹å¼ä¸€ï¼šé€æ­¥è®¾ç½®å“åº”çŠ¶æ€ç å’Œå“åº”å¤´</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">@WebServlet(&quot;&#x2F;ServletDemo2&quot;)
public class ServletDemo2 extends HttpServlet &#123;
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;

     System.out.println(&quot;demo2&quot;);
    resp.setStatus(302);
    resp.setHeader(&quot;location&quot;, &quot;&#x2F;tomcat3_war_exploded&#x2F;ServletDemo3&quot;);
    &#125;
&#125;

@WebServlet(&quot;&#x2F;ServletDemo3&quot;)
public class ServletDemo3 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;

    &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;

        System.out.println(&quot;demo3&quot;);
    &#125;
&#125;</code></pre>
<ul>
<li>æ–¹å¼äºŒï¼šç›´æ¥ä½¿ç”¨<code>sendRedirect</code>æ–¹æ³•</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">@WebServlet(&quot;&#x2F;ServletDemo2&quot;)
public class ServletDemo2 extends HttpServlet &#123;
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;

     System.out.println(&quot;demo2&quot;);
     &#x2F;&#x2F;åŠ¨æ€è·å–è™šæ‹Ÿç›®å½•
     String contextPath &#x3D; req.getContextPath();
     resp.sendRedirect(contextpath+&quot;&#x2F;ServletDemo3&quot;);
    &#x2F;&#x2F; resp.sendRedirect(&quot;&#x2F;tomcat3_war_exploded&#x2F;ServletDemo3&quot;);
    &#125;
&#125;

@WebServlet(&quot;&#x2F;ServletDemo3&quot;)
public class ServletDemo3 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;

    &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;

        System.out.println(&quot;demo3&quot;);
    &#125;
&#125;</code></pre>
<ul>
<li>è½¬å‘çš„ç‰¹ç‚¹ï¼š
<ul>
<li>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸ä¼šå‘ç”Ÿå˜åŒ–;</li>
<li>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æºä¸­;</li>
<li>è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼ˆå³å¤šä¸ªèµ„æºå…±ç”¨ä¸€æ¬¡è¯·æ±‚çš„ä¿¡æ¯ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ®ã€‚</li>
</ul>
</li>
<li>é‡å®šå‘çš„ç‰¹ç‚¹ï¼š
<ul>
<li>æµè§ˆå™¨åœ°å€æ è·¯å¾„<strong>ä¼šå‘ç”Ÿå˜åŒ–</strong>;</li>
<li>é‡å®šå‘å¯ä»¥è®¿é—®**å…¶ä»–ç«™ç‚¹ï¼ˆæœåŠ¡å™¨ï¼‰**èµ„æº;</li>
<li>é‡å®šå‘æ˜¯<strong>ä¸¤æ¬¡è¯·æ±‚</strong>ã€‚<strong>ä¸èƒ½ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ®</strong>ã€‚<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20210106130407.png" alt="" /></li>
</ul>
</li>
<li>åŠ¨æ€æ–¹å¼è·å–<strong>è™šæ‹Ÿç›®å½•</strong>ã€‚<code>String contextPath = request.getContextPath();</code></li>
<li>è·¯å¾„å†™æ³•ï¼š
<ul>
<li>ç›¸å¯¹è·¯å¾„ï¼š
<ul>
<li>ä¸ä»¥<code>/</code>å¼€å¤´ï¼Œä»¥<code>.</code>å¼€å¤´;</li>
<li>è§„åˆ™ï¼š
<ul>
<li><code>./</code>ï¼šå½“å‰ç›®å½•ä¸‹;</li>
<li><code>../</code>ï¼šä¸Šä¸€çº§ç›®å½•ä¸‹;</li>
</ul>
</li>
</ul>
</li>
<li>ç»å¯¹è·¯å¾„ï¼š
<ul>
<li>ä»¥<code>/</code>å¼€å¤´çš„è·¯å¾„;</li>
<li>ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ä½¿ç”¨çš„ç»å¯¹è·¯å¾„éœ€è¦åŠ <strong>è™šæ‹Ÿç›®å½•</strong>(é¡¹ç›®çš„è®¿é—®è·¯å¾„);
<ul>
<li>å»ºè®®è™šæ‹Ÿç›®å½•åŠ¨æ€è·å–;</li>
<li>å¦‚ï¼šé‡å®šå‘ä¸­ä½¿ç”¨çš„è·¯å¾„æ˜¯<code>/tomcat3_war_exploded/ServletDemo3</code></li>
</ul>
</li>
<li>ç»™æœåŠ¡å™¨ä½¿ç”¨ï¼Œä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•;
<ul>
<li>å¦‚è½¬å‘ä¸­ä½¿ç”¨çš„è·¯å¾„ï¼š<code>/ServletDemo3</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨"><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨"></a> æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨</h4>
<ul>
<li>æ­¥éª¤ï¼š
<ol>
<li>è·å–å­—ç¬¦è¾“å‡ºæµï¼š<code>PrintWriter pw = response.getWriter();</code>(è·å–çš„æµçš„é»˜è®¤ç¼–ç æ˜¯ISO-8859-1)</li>
<li>è¾“å‡ºæ•°æ®ï¼š<code>pw.write(&quot;ä½ å¥½ response&quot;)</code></li>
<li>æµå¯¹è±¡æ˜¯ç”±responseåˆ›å»ºçš„ï¼Œä¼šéšç€responseçš„å…³é—­è€Œå…³é—­ï¼Œä¸ç”¨å†äººä¸ºçš„closeã€‚</li>
</ol>
</li>
<li>ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š
<ul>
<li>åŸå› ï¼šå› ä¸ºæµè§ˆå™¨ä½¿ç”¨çš„å­—ç¬¦é›†å’ŒæœåŠ¡å™¨ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚</li>
<li>éœ€è¦åœ¨<strong>è·å–å­—ç¬¦è¾“å‡ºæµä¹‹å‰</strong>è¿”å›ä¸€ä¸ªå‘Šè¯‰æµè§ˆå™¨æœåŠ¡å™¨è¿”å›æ¶ˆæ¯ä½¿ç”¨çš„å­—ç¬¦é›†å’Œæ ¼å¼ï¼š
<ul>
<li>é€šè¿‡è®¾ç½®content-typeå¤´çš„å†…å®¹æ¥è§£å†³ï¼š<code>response.setHeader(&quot;content-type&quot;, &quot;text/html;charset=utf-8&quot;);</code></li>
<li>responseå¯¹è±¡æœ‰ä¸€ä¸ªå†…ç½®çš„ç®€åŒ–æ–¹æ³•ï¼š<code>responde.setContentType(&quot;text/html;charset=utf-8&quot;);</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="æœåŠ¡å™¨è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨"><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨"></a> æœåŠ¡å™¨è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨</h4>
<ul>
<li>æ­¥éª¤ï¼š
<ol>
<li>è·å–å­—èŠ‚è¾“å‡ºæµï¼š<code>ServletOutputStream sos = response.getOutputStream();</code></li>
<li>è¾“å‡ºæ•°æ®ï¼š<code>sos.write(&quot;ä½ å¥½&quot;.getBytes(&quot;utf-8&quot;));</code></li>
</ol>
</li>
<li>è¿˜æ˜¯éœ€è¦åœ¨<strong>è·å–å­—èŠ‚è¾“å‡ºæµä¹‹å‰</strong>é€šçŸ¥æµè§ˆå™¨å­—ç¬¦é›†çš„è®¾ç½®ã€‚</li>
</ul>
<h4 id="æœåŠ¡å™¨éªŒè¯ç "><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨éªŒè¯ç "></a> æœåŠ¡å™¨éªŒè¯ç </h4>
<ul>
<li>éªŒè¯ç çš„ä½œç”¨ï¼šé˜²æ­¢æ¶æ„é‡å¤æäº¤è¡¨å•ã€‚ï¼ˆæœºå™¨äººï¼‰</li>
<li>å®ç°çš„åŠŸèƒ½ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨ç”ŸæˆéªŒè¯ç å›¾ç‰‡ï¼Œå¹¶ä¸”å¯¹å›¾ç‰‡è¿›è¡Œç¾åŒ–ã€‚</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>åˆ›å»ºå›¾ç‰‡</li>
<li>ç¾åŒ–å›¾ç‰‡ï¼ˆå¢åŠ éªŒè¯ç çš„å†…å®¹ï¼‰</li>
<li>è¾“å‡ºå›¾ç‰‡åˆ°æµè§ˆå™¨ä¸Š</li>
</ol>
</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">    &#x2F;&#x2F;å›¾ç‰‡é•¿å®½è®¾ç½®
    int width &#x3D; 100;
    int height &#x3D; 50;
    
    &#x2F;&#x2F;1.åˆ›å»ºä¸€å¯¹è±¡ï¼Œåœ¨å†…å­˜ä¸­åˆ›å»ºå›¾ç‰‡ï¼ˆéªŒè¯ç çš„å›¾ç‰‡ï¼‰
    BufferedImage image &#x3D; new BufferedImage(width, height,BufferedImage.TYPE_INT_RGB);

    &#x2F;&#x2F;2.ç¾åŒ–å›¾ç‰‡
    Graphics g &#x3D; image.getGraphics();&#x2F;&#x2F;è·å–ç”»ç¬”å¯¹è±¡
    g.setColor(Color.PINK);&#x2F;&#x2F;è®¾ç½®ç”»ç¬”é¢œè‰²
    g.fillRect(0,0,width,height);&#x2F;&#x2F;å¡«å……èƒŒæ™¯è‰²
    g.setColor(Color.BLACK);&#x2F;&#x2F;è®¾ç½®ç”»ç¬”é¢œè‰²
    g.drawRect(0,0,width-1, height - 1);&#x2F;&#x2F;ç”»è¾¹æ¡†

    String str &#x3D; &quot;QWERTYUIOOOOOPASDFGHJKKLZXCVBNMMqwertyuiopasdfghjklzxcvbnm0123456789&quot;;&#x2F;&#x2F;è®¾ç½®å¯ä»¥å†™åˆ°éªŒè¯ç å›¾ç‰‡ä¸Šçš„å­—ç¬¦
    Random random &#x3D; new Random();&#x2F;&#x2F;è·å–ç”Ÿæˆéšæœºæ•°çš„å¯¹è±¡
    &#x2F;&#x2F;å°†éšå³å­—ç¬¦å†™åˆ°å›¾ç‰‡ä¸Šå»
    for(int i &#x3D; 1; i &lt; 5; i++) &#123;
        int index &#x3D; random.nextInt(str.length());&#x2F;&#x2F;è·å–åœ¨å­—ç¬¦ä¸²å¤§å°èŒƒå›´å†…çš„éšæœºç´¢å¼•å€¼
        char ch &#x3D; str.charAt(index);
        g.drawString(ch+&quot;&quot;, width&#x2F;5*i ,height&#x2F;2);
    &#125;
    
    &#x2F;&#x2F;ç”»å¹²æ‰°çº¿
    g.setColor(Color.GREEN);

    &#x2F;&#x2F;ç”Ÿæˆéšæœºåæ ‡æ¥åˆ’çº¿
    for(int i &#x3D; 0; i &lt; 10; i++) &#123;
        int x1 &#x3D; random.nextInt(width);
        int x2 &#x3D; random.nextInt(width);
        int y1 &#x3D; random.nextInt(height);
        int y2 &#x3D; random.nextInt(height);
        g.drawLine(x1,y1,x2,y2);
    &#125;

    &#x2F;&#x2F;3.å°†å›¾ç‰‡è¾“å‡ºåˆ°æµè§ˆå™¨ä¸Š
    ImageIO.write(image, &quot;jpg&quot;, resp.getOutputStream());
&#125;</code></pre>
<h1 id="servletcontextå¯¹è±¡"><a class="markdownIt-Anchor" href="#servletcontextå¯¹è±¡"></a> ServletContextå¯¹è±¡</h1>
<ol>
<li>æ¦‚å¿µ:ä»£è¡¨æ•´ä¸ªwebåº”ç”¨ï¼ˆä¸€ä¸ªwebåº”ç”¨é‡Œåªæœ‰å”¯ä¸€çš„ä¸€ä¸ªServletContextå¯¹è±¡ï¼‰ï¼Œå¯ä»¥å’Œç¨‹åºçš„å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰æ¥é€šä¿¡;</li>
<li>è·å–ServletContextå¯¹è±¡ï¼š
<ol>
<li>é€šè¿‡Requestå¯¹è±¡æ¥è·å–:<code>request.getServletContext();</code></li>
<li>é€šè¿‡HttpServletè·å–ï¼ˆæˆ‘ä»¬åˆ›å»ºçš„Servletç±»éƒ½æ˜¯ä»è¿™é‡Œç»§æ‰¿çš„ï¼‰ï¼š<code>this.getServletContext();</code></li>
</ol>
</li>
<li>æ–¹æ³•ï¼š
<ol>
<li>è·å–MIMEç±»å‹ï¼š
<ol>
<li>MIMEç±»å‹ï¼šåœ¨äº’è”ç½‘é€šä¿¡è¿‡ç¨‹ä¸­å®šä¹‰çš„ä¸€ç§æ–‡ä»¶æ•°æ®ç±»å‹ï¼Œæ ¼å¼ä¸ºï¼š<code>å¤§ç±»å‹/å°ç±»å‹</code>ï¼Œå¦‚ï¼š<code>text/html</code>,<code>image/jpeg</code>.</li>
<li>è·å–çš„æ–¹æ³•ï¼š<code>String getMIMEType(String file)</code>,å‚æ•°æ˜¯æ–‡ä»¶åç§°;</li>
</ol>
</li>
<li>ä½œä¸ºåŸŸå¯¹è±¡ï¼š
<ol>
<li>ServletContextå¯¹è±¡çš„èŒƒå›´ï¼šæ‰€æœ‰ç”¨æˆ·æ‰€æœ‰è¯·æ±‚çš„æ•°æ®;</li>
<li><code>setAttribute(String name, Object value);</code></li>
<li><code>getAttribute(String name)</code></li>
<li><code>removeAttribute(String name)</code></li>
</ol>
</li>
<li>è·å–æ–‡ä»¶çš„çœŸå®ï¼ˆæœåŠ¡å™¨ï¼‰è·¯å¾„ï¼š
<ol>
<li>æˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ï¼Œè€Œä¸æ˜¯è¯¥æ–‡ä»¶åœ¨æœ¬åœ°å·¥ä½œç©ºé—´çš„è·¯å¾„;</li>
<li>æ–¹æ³•ï¼š<code>String getRealPath(String path)</code></li>
<li>å‚æ•°ï¼šæ–‡ä»¶åœ¨æœ¬åœ°å·¥ä½œç©ºé—´çš„ç›¸å¯¹è·¯å¾„
<ol>
<li>åœ¨webç›®å½•ä¸‹çš„èµ„æºï¼š<code>/æ–‡ä»¶å</code></li>
<li>åœ¨WEB_INFç›®å½•ä¸‹çš„èµ„æºï¼š<code>/WEB-INF/æ–‡ä»¶å</code></li>
<li>åœ¨æºæ–‡ä»¶ï¼ˆsrcç›®å½•æˆ–è€…javaç›®å½•ä¸‹ï¼‰çš„èµ„æºï¼š<code>/WEB-INF/classes/æ–‡ä»¶å</code></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>

              </article>
          </article>
      </div>
  </div>

</div>



        </div>


        <!-- <div class="p-5 text-center ">
  <p class="h6"> <a href="https://beian.miit.gov.cn/" target="_blank">èœ€ICPå¤‡2021022902å·-1</a> â€» <a
          href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">å·å…¬ç½‘å®‰å¤‡51010802032250å·</a></p>
</div> -->

<div class="p-5 text-center">
  <img src="/img/beian_icon.png" alt="å¤‡æ¡ˆå›¾æ ‡" class="icon" style="max-width: 48px; max-height: 48px; vertical-align: middle;">
  <p class="h6">
    <a href="https://beian.miit.gov.cn/" target="_blank">èœ€ICPå¤‡2021022902å·-1</a> â€»
    <a href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">å·å…¬ç½‘å®‰å¤‡51010802032250å·</a>
  </p>
</div>
</body>

</html>