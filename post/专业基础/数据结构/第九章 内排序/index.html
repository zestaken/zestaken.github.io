<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <head>
    <link href="/styles/main.css" rel="stylesheet" type="text/css"/>

    <meta charset="UTF-8">
    
    <title>第九章 内排序 - ZestJourney</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/css/bootstrap.min.css">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/js/bootstrap.min.js"></script>

<script src="https://npm.elemecdn.com/@waline/client@v2/dist/waline.js"></script>
<link
  rel="stylesheet"
  href="https://npm.elemecdn.com/@waline/client@v2/dist/waline.css"
/>
<meta name="generator" content="Hexo 5.4.2"></head>

</head>

<body>
    


        <div>
            <div class="container-fluid position-relative">
                <nav class="navbar navbar-expand-lg navbar-dark  text-white bg-transparent">
                    <div class="container">
                        
                        <a class="navbar-brand" href="/">💖我们的秘密基地💖</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarText">
                            <ul class="navbar-nav mr-auto">
                            </ul>
                            <span class="navbar-text">
                                💕愿你三冬暖，愿你春不寒🍂
                            </span>
                        </div>
                    </div>
                </nav>
                <section class="lover-background"
                    style="background-image: url(/img/banner.jpg)">
                </section>
                <section
                    class="container lover-container d-flex flex-column align-content-center justify-content-center">
                    <div class="row align-items-center pb-5 lover">
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zestaken.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">  
                                    zestaken
                                </h4>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex justify-content-center">
                                <div class="heart"></div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zinny.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">
                                    zinny
                                </h4>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="main-hero-waves-area waves-area">
                    <svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                            <path id="gentle-wave"
                                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z">
                            </path>
                        </defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="0"></use>
                            <use xlink:href="#gentle-wave" x="48" y="3"></use>
                            <use xlink:href="#gentle-wave" x="48" y="5"></use>
                            <use xlink:href="#gentle-wave" x="48" y="7"></use>
                        </g>
                    </svg>
                </section>
            </div>

            <div id="Pjax">

  <div class="list-content mx-auto mt-5">
      <div id="article" class="list-top">
          <h5 class="list-text"> 第九章 内排序
          </h5>
          <article>
              <article>
                <h1 id="第九章-内排序"><a class="markdownIt-Anchor" href="#第九章-内排序"></a> 第九章 内排序</h1>
<h2 id="91-排序的概念"><a class="markdownIt-Anchor" href="#91-排序的概念"></a> 9.1 排序的概念</h2>
<h3 id="排序的定义"><a class="markdownIt-Anchor" href="#排序的定义"></a> 排序的定义</h3>
<p>所谓排序，是整理表中的记录，使之按关键字递增（或递减）有序排列。</p>
<h3 id="内排序与外排序"><a class="markdownIt-Anchor" href="#内排序与外排序"></a> 内排序与外排序</h3>
<p>在排序过程中，若整个表都是放在内存中处理，排序时不涉及数据的内、外存交换，则称之为<strong>内排序</strong>；反之，若排序过程中要进行数据的内、外存交换，则称之为<strong>外排序</strong>。</p>
<h3 id="内排序"><a class="markdownIt-Anchor" href="#内排序"></a> 内排序</h3>
<h4 id="内排序的分类"><a class="markdownIt-Anchor" href="#内排序的分类"></a> 内排序的分类</h4>
<ol>
<li>基于比较的排序算法
<ol>
<li>插入排序</li>
<li>交换排序</li>
<li>选择排序</li>
<li>归并排序</li>
</ol>
</li>
<li>不基于比较的排序算法
<ol>
<li>基数排序</li>
</ol>
</li>
</ol>
<h4 id="-基于比较的内排序的时间复杂度"><a class="markdownIt-Anchor" href="#-基于比较的内排序的时间复杂度"></a> ?-&gt;基于比较的内排序的时间复杂度</h4>
<ul>
<li>最好的平均时间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog_2(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li>
<li>最好情况是排序序列正序，此时时间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li>
</ul>
<h4 id="内排序算法的稳定性"><a class="markdownIt-Anchor" href="#内排序算法的稳定性"></a> 内排序算法的稳定性</h4>
<ul>
<li>如果待排序的表中，存在有多个关键字相同的记录，经过排序后这些具有相同关键字的记录之间的相对次序保持不变，则称这种排序方法是<strong>稳定</strong>的。</li>
<li>反之，若具有相同关键字的记录之间的相对次序发生变化，则称这种排序方法是<strong>不稳定</strong>的。</li>
</ul>
<h4 id="正序与反序"><a class="markdownIt-Anchor" href="#正序与反序"></a> 正序与反序</h4>
<ul>
<li>若待排序的表中元素已按关键字排好序，称此表中元素为正序；</li>
<li>反之，若待排序的表中元素的关键字顺序正好和排好序的顺序相反，称此表中元素为反序。</li>
<li>有一些排序算法与初始序列的正序或反序有关，另一些排序算法与初始序列的情况无关。</li>
</ul>
<h4 id="内排序数据的组织"><a class="markdownIt-Anchor" href="#内排序数据的组织"></a> 内排序数据的组织</h4>
<p>待排序顺序表的数据元素类型定义：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">typedef struct
&#123;
    KeyType key; &#x2F;&#x2F;关键字项
    InfoType data; &#x2F;&#x2F;其它数据项
&#125;RecType; &#x2F;&#x2F; 排序的记录类型定义</code></pre>
<h2 id="92-插入排序"><a class="markdownIt-Anchor" href="#92-插入排序"></a> 9.2 插入排序</h2>
<h3 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h3>
<ul>
<li>基本原理：将无序区的元素逐个插入有序区（局部有序）</li>
<li>分类：
<ol>
<li>直接插入排序</li>
<li>折半插入排序</li>
<li>希尔排序</li>
</ol>
</li>
</ul>
<h3 id="1直接插入排序"><a class="markdownIt-Anchor" href="#1直接插入排序"></a> 1.直接插入排序</h3>
<ul>
<li>
<p>基本原理：插入排序通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入 ，如此重复，直至完成序列排序。<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20200630103424.jpg" alt="" /></p>
</li>
<li>
<p>算法分析：</p>
<ol>
<li>从序列第一个元素开始，该元素可以认为已经被排序（即有序区第一个元素）</li>
<li>取出下一个元素，设为待插入元素（即放入临时区：因为需要在有序区中插入一个元素，所以有序区得扩充一格，而临时区既能放置未找到位置的新入元素，又能为之后有序区元素的后移提供操作空间），在已经排序的元素序列中从后向前扫描，如果该元素（已排序）大于待插入元素，将该元素移到下一位置。</li>
<li>重复步骤2，直到找到已排序的元素小于或者等于待排序元素的位置，插入元素。</li>
<li>重复2，3步骤，完成排序。（得有两个循环嵌套）</li>
</ol>
</li>
<li>
<p>实例演示：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/img/20200630103537.png" alt="" /></p>
<ol>
<li>默认序列的第一个元素12已经被排序</li>
<li>取下一元素 15，从后往前与已排序序列一次比较，15插入12 之后，已排序序列为[12，15]。</li>
<li>取下一元素9，重复2步骤，将9插12 之前，已排序序列为[9，12，15]。</li>
<li>循环上述操作，直至最后一个元素24，插入合适位置，完成排序。</li>
</ol>
</li>
<li>
<p>直接插入排序代码（c)</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">void InsertSort(RecType R[],int n)
&#123;
   int i,j;
   RecType temp；

   for(i &#x3D; 1; i &lt; n; i++)&#123;
      temp &#x3D; R[i]; &#x2F;&#x2F; 将取出的无序区元素放入临时区
      j &#x3D; i - 1;   &#x2F;&#x2F; 找到有序区最后一个元素
      while(j &gt;&#x3D; 0 &amp;&amp; R[j] &gt; temp)&#123;
         R[j + 1] &#x3D; R[j];
         j--;
      &#125; &#x2F;&#x2F;从后往前逐个扫描有序区元素，直到找到比新入元素小或者相等的元素，同时将比新入元素大的元素这个往后移一位
      R[j] &#x3D; temp; &#x2F;&#x2F;将新入元素插入扫描找到的元素之后
   &#125;
&#125;</code></pre>
</li>
<li>
<p>性能分析</p>
<ul>
<li>时间复杂度：
<ul>
<li>最好的情况（正序排列）：比较<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>次（每个元素只与自己前面的元素比一次，而第一个元素没有前面的元素），时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li>
<li>最坏的情况（反序排列）：比较<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n(n-1)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>次（每个元素需与自己前面所有元素比一次），时间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>平均时间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
</li>
<li>空间复杂度：
<ul>
<li>只有一个临时元素，故空间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li>
</ul>
</li>
<li>算法稳定性：
<ul>
<li>直接插入排序是稳定的排序算法</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2折半插入排序二分插入排序"><a class="markdownIt-Anchor" href="#2折半插入排序二分插入排序"></a> 2.折半插入排序（二分插入排序）</h3>

              </article>
          </article>
      </div>
  </div>

</div>



        </div>


        <!-- <div class="p-5 text-center ">
  <p class="h6"> <a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2021022902号-1</a> ※ <a
          href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">川公网安备51010802032250号</a></p>
</div> -->

<div class="p-5 text-center">
  <img src="/img/beian_icon.png" alt="备案图标" class="icon" style="max-width: 48px; max-height: 48px; vertical-align: middle;">
  <p class="h6">
    <a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2021022902号-1</a> ※
    <a href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">川公网安备51010802032250号</a>
  </p>
</div>
</body>

</html>