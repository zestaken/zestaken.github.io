<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.zestaken.top","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":true,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="指针的基本概念  &#x3D;&#x3D;指针就是地址，而指针变量就是存储地址的变量&#x3D;&#x3D;。 指针变量的声明：在普通变量声明的基础上加上*:  如指向int类型对象的指针变量：int *p;   取地址运算符：用于获取变量的地址，来给指针变量赋值。  示例：  int i, *p; p &#x3D; &amp;i;  间接寻址运算符：用于访问指针变量指向的对象的内容。  示例：  int i, *p; p &amp;#x3D">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言-指针">
<meta property="og:url" content="http://www.zestaken.top/post/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88/index.html">
<meta property="og:site_name" content="ZestJourney">
<meta property="og:description" content="指针的基本概念  &#x3D;&#x3D;指针就是地址，而指针变量就是存储地址的变量&#x3D;&#x3D;。 指针变量的声明：在普通变量声明的基础上加上*:  如指向int类型对象的指针变量：int *p;   取地址运算符：用于获取变量的地址，来给指针变量赋值。  示例：  int i, *p; p &#x3D; &amp;i;  间接寻址运算符：用于访问指针变量指向的对象的内容。  示例：  int i, *p; p &amp;#x3D">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-02-25T09:05:47.000Z">
<meta property="article:modified_time" content="2021-05-29T09:49:50.584Z">
<meta property="article:author" content="Zestaken">
<meta property="article:tag" content="C">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://www.zestaken.top/post/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.zestaken.top/post/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88/index.html","path":"/post/专业基础/C语言/C语言-指针/index.html","title":"C语言-指针"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>C语言-指针 | ZestJourney</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ZestJourney</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">乐游记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text"> 指针的基本概念</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84"><span class="nav-number">2.</span> <span class="nav-text"> 指针与数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">2.1.</span> <span class="nav-text"> 指针和多维数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84"><span class="nav-number">3.</span> <span class="nav-text"> 字符串数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84"><span class="nav-number">3.1.</span> <span class="nav-text"> 二维数组实现字符串数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84"><span class="nav-number">3.2.</span> <span class="nav-text"> 指针数组实现字符串数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84%E7%9A%84%E5%BA%94%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="nav-number">3.3.</span> <span class="nav-text"> 字符串数组的应用：命令行参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D"><span class="nav-number">4.</span> <span class="nav-text"> 动态存储分配</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-number">5.</span> <span class="nav-text"> 指向函数的指针</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Zestaken</p>
  <div class="site-description" itemprop="description">吾好梦中读书~</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">84</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zestaken.top/post/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88/index.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zestaken">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZestJourney">
      <meta itemprop="description" content="吾好梦中读书~">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="C语言-指针 | ZestJourney">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C语言-指针
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-02-25 17:05:47" itemprop="dateCreated datePublished" datetime="2021-02-25T17:05:47+08:00">2021-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-05-29 17:49:50" itemprop="dateModified" datetime="2021-05-29T17:49:50+08:00">2021-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">专业基础</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="指针的基本概念"><a class="markdownIt-Anchor" href="#指针的基本概念"></a> 指针的基本概念</h1>
<ul>
<li>==指针就是地址，而指针变量就是存储地址的变量==。</li>
<li>指针变量的声明：在普通变量声明的基础上加上<code>*</code>:
<ul>
<li>如指向int类型对象的指针变量：<code>int *p;</code></li>
</ul>
</li>
<li><strong>取地址运算符</strong>：用于获取变量的地址，来给指针变量赋值。
<ul>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int i, *p;
p &#x3D; &amp;i;</code></pre>
</li>
<li><strong>间接寻址运算符</strong>：用于访问指针变量指向的对象的内容。
<ul>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int i, *p;
p &#x3D; &amp;i;
i &#x3D; *p;</code></pre>
<ul>
<li>不要混淆间接寻址运算符和指针变量的声明时的<code>*</code>的功能。</li>
<li><code>*p</code>相当于<code>i</code>的==别名==，对<code>*p</code>执行的任何操作，与直接对<code>i</code>做操作的效果一样。</li>
</ul>
</li>
</ul>
<h1 id="指针与数组"><a class="markdownIt-Anchor" href="#指针与数组"></a> 指针与数组</h1>
<ul>
<li>指针可以指向数组元素:
<ul>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int a[10],*p;
p &#x3D; &amp;a[0];
*p &#x3D; 5;</code></pre>
<ul>
<li>如果==指针指向数组元素，那么对该指针进行算运算==就是有意义的：
<ol>
<li><strong>指针加上整数</strong>：指针加上整数，代表该指针指向更右边数组的元素，如<code>int *p = &amp;a[0]</code>，给p加上2之后，p指向<code>a[2]</code></li>
<li><strong>指针减去整数</strong>：指针减去整数，代表该指针指向更左边数组的元素，如<code>int *p = a[2]</code>，给p减去2之后，p指向<code>a[0]</code></li>
<li><strong>两个指针相减</strong>：两个指针相减，结果为这两个指针指向的数组元素之间间隔的数组元素个数，如<code>int *p = &amp;a[5]; int *q = &amp;a[1]</code>，那么p和q相减的结果就是4。</li>
</ol>
</li>
</ul>
</li>
<li>可以直接<strong>将数组名赋值给指针变量</strong>：
<ul>
<li>如：<code>int a[2] = &#123;0, 1, 2&#125;; int *p = a;</code></li>
<li>实质是p指向该数组的第一个元素<code>a[0]</code></li>
<li>==数组的名字实质上是指向数组第一个元素的指针==</li>
<li>不能给数组名赋值。</li>
</ul>
</li>
<li><strong>数组型形式参数</strong>：
<ul>
<li>在将数组作为形式参数传递给函数的时候，实际传递的是==指向该数组的第一个元素的指针（或者说是数组名）==。</li>
<li>==声明形式参数为指针就相当于声明变量为数组==(但是普通变量不可以这样理解），可以==将数组型形式参数声明为指针==，如：<code>int function(int a[], int n)</code>与<code>int function(int *a, int n)</code>等价。</li>
<li>可以给函数传递==数组的片段==，如：<code>function(&amp;a[6], 10)</code></li>
</ul>
</li>
<li><strong>用指针作为数组名</strong>：
<ul>
<li>可以将指针看做数组名进行==取下标操作==。</li>
<li>编译器将<code>p[i]</code>看做`*(p+i)。</li>
<li>对指针进行取下标操作的前提是:==该指针是指向了一个数组的首元素==。</li>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int a[10], *p;
p &#x3D; a;
int num &#x3D; p[1];</code></pre>
</li>
<li><strong>指针数组</strong>：
<ul>
<li>元素是指针的数组，如：<code>int *p[10]</code>，声明了一个数组，这个数组存储10个int型指针变量。</li>
</ul>
</li>
<li><strong>指向指针的指针</strong>：
<ul>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">char *p1;
char **p2 &#x3D; &amp;p1;</code></pre>
</li>
</ul>
<h2 id="指针和多维数组"><a class="markdownIt-Anchor" href="#指针和多维数组"></a> 指针和多维数组</h2>
<ul>
<li>C语言中的多维数组，可以理解为将每一行的元素依次排列；</li>
<li><strong>将二维数组看做是一维数组</strong>来处理：
<ul>
<li>指针指向二维数组的第一个元素，指针每次加一，都会指向数组的下一个元素，如果到达本行末尾，就指向下一行的第一个元素。</li>
</ul>
</li>
<li><strong>将指针指向某一行的第一个元素</strong>：
<ul>
<li>一般方法：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int a[10][10], *p;
&#x2F;&#x2F;指向第二行的第一个元素
p &#x3D; &amp;a[1][0]; </code></pre>
<ul>
<li>简写：根据可以对指针进行去下标操作，利用<code>&amp;a[i][0] = &amp;(*(a[i] + 0))</code></li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int a[10][10], *p;
&#x2F;&#x2F;指向第三行的第一个元素
p &#x3D; a[2];</code></pre>
</li>
<li><strong>指向一维数组的指针</strong>：
<ul>
<li>对一维数组，我们常用的指针是指向==数组的第一个元素的==；</li>
<li>可以定义==指向一个一维数组的指针==：<code>int (*p)[10]</code>,这是声明了一个指向长度为10的整型数组的指针p；</li>
<li>对于二维数组，可以看做是==一个每个元素都是一维数组的一维数组==；</li>
<li>使用指向数组的指针来==按行遍历二维数组==：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int a[10][11], (*p)[10];
&#x2F;&#x2F;省去数组赋值等
&#x2F;&#x2F;按列遍历数组，并将数组第五列的值赋为0
for(p &#x3D; &amp;a[0]; p &lt; &amp;a[10]; p++) &#123;
  (*p)[4];
&#125;</code></pre>
<ul>
<li>在二维数组中，<code>a[i]</code>取的是第i-1行第一个元素的地址，<code>&amp;a[i]</code>取的是第i-1行的地址（第i-1个一维数组的地址）</li>
<li>对于指向数组的指针来说：<code>*p</code>是取出指向的数组，<code>(*p)[i]</code>是取出指向的数组中的第i-1个元素。</li>
</ul>
</li>
<li><strong>用多维数组名作为指针</strong>：
<ul>
<li>二维数组的==数组名是一个指向一维数组的指针==，例如<code>int a[10][10]</code>的数组名<code>a</code>代表的意思是<code>&amp;a[0]</code>。</li>
</ul>
</li>
<li><strong>多维数组的长度</strong>：
<ul>
<li>对于==一维数组在声明时就赋值的情况下，可以省略数组的长度==，如：<code>int a[] = &#123;1, 2&#125;</code></li>
<li>==二维数组在声明时就赋值可以省略第一维的长度==,最后的二维数组的每一维的长度都是每一行的数组的长度是==根据最长的数组的长度来确定==的。如果有一些行的数据不够填满整行，那么C语言==会用空字符<code>\0</code>来填补==。</li>
</ul>
</li>
</ul>
<h1 id="字符串数组"><a class="markdownIt-Anchor" href="#字符串数组"></a> 字符串数组</h1>
<h2 id="二维数组实现字符串数组"><a class="markdownIt-Anchor" href="#二维数组实现字符串数组"></a> 二维数组实现字符串数组</h2>
<ul>
<li><strong>字符串字面量</strong>：
<ul>
<li>字符串是一个==字符数组==；</li>
<li>字符串字面量就是这个数组的数组名，==是一个<code>char *</code>类型的指针==。</li>
<li>字符串字面量是==不能被修改的==</li>
</ul>
</li>
<li>创建一个二维数组，按照每行一个字符串(==一维字符数组==)的方式，将一系列字符串存入一个数组中。</li>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">char planets[][8] &#x3D; &#123; &quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;,
					  &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;,
					  &quot;Urans&quot;, &quot;Neptune&quot;, &quot;Pluto&quot; &#125;;</code></pre>
<ul>
<li>因为每一行字符串的长度是省略的，所以每一行的长度是系统自动确定的。在二维数组中，每一行的数组的长度是根据最长的数组的长度来确定的。如果有一些行的数据不够填满整行，那么C语言<strong>会用空字符<code>\0</code>来填补，造成了空间浪费</strong>。</li>
<li>可以理解为用这种方式创建的<strong>二维数组都是矩形的</strong>。</li>
</ul>
<h2 id="指针数组实现字符串数组"><a class="markdownIt-Anchor" href="#指针数组实现字符串数组"></a> 指针数组实现字符串数组</h2>
<ul>
<li>要想实现<strong>参差不齐的二维数组</strong>，需要使用<strong>元素为指针的数组</strong>。</li>
<li>建立一个<strong>元素都是指向字符串的指针</strong>的数组，来实现字符串数组。</li>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">char *planets[] &#x3D; &#123; &quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;,
					&quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;,
					&quot;Urans&quot;, &quot;Neptune&quot;, &quot;Pluto&quot;&#125;;</code></pre>
<h2 id="字符串数组的应用命令行参数"><a class="markdownIt-Anchor" href="#字符串数组的应用命令行参数"></a> 字符串数组的应用：命令行参数</h2>
<ul>
<li>运行程序是需要提供一些信息，这些信息从命令行中提供，称为<strong>命令行参数</strong>（C语言中也叫程序参数）。</li>
<li>为了访问命令行参数必须将<strong>main函数定义为含有两个特殊参数的的函数</strong>：
<ul>
<li><code>argc</code>参数：argc是参数计数的参数，为int型，用于记录<strong>命令行参数的数量</strong>。</li>
<li><code>argv</code>参数：argv是<strong>指向命令行参数的指针数组</strong>，这些命令行参数以<strong>字符串</strong>的形式存储。
<ul>
<li>argv是<code>char *argv[]</code>型的，实质就是一个字符串数组。</li>
<li><code>argv[0]</code>指向<strong>程序名</strong>；</li>
<li><code>argv[1]</code>到<code>argv[argc - 1]</code>指向余下的命令行参数。</li>
<li><code>argv[argc]</code>是一个附加元素，这个元素始终是一个<strong>空指针</strong>。</li>
</ul>
</li>
</ul>
</li>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

#define NUM_PLANETS 9

int main(int argc, char* argv[]) &#123;
	char *planets[] &#x3D; &#123; &quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;,
						&quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;,
						&quot;Urans&quot;, &quot;Neptune&quot;, &quot;Pluto&quot; &#125;;
	int i, j;

	for (i &#x3D; 1; i &lt; argc; i++) &#123;
		for (j &#x3D; 0; j &lt; NUM_PLANETS; j++) &#123;
			if (strcmp(argv[i], planets[j]) &#x3D;&#x3D; 0) &#123;
				printf_s(&quot;%s is planet %d\n&quot;, argv[i], j + 1);
				break;
			&#125;
				if (j &#x3D;&#x3D; NUM_PLANETS) &#123;
					printf_s(&quot;%s is not a planet\n&quot;, argv[i]);
				&#125;
		&#125;
	&#125;
	return 0;
&#125;</code></pre>
<h1 id="动态存储分配"><a class="markdownIt-Anchor" href="#动态存储分配"></a> 动态存储分配</h1>
<ul>
<li><strong>动态存储分配</strong>：在程序==运行期间==分配内存单元的能力</li>
<li>内存分配函数所获得的内存块都来自一个称为**堆（heap）**的存储池。</li>
<li><strong>内存分配函数</strong>有三种，都是声明在<code>&lt;stdlib.h&gt;</code>头中的：
<ol>
<li><strong><code>malloc</code>函数</strong>：分配内存块，但是不对内存块进行初始化。（最常用，最高效）
<ul>
<li>原型：<code>void *malloc(size_t size)</code>,malloc函数分配size个字节的内存块，并且返回指向该内存块的指针。</li>
<li>示例：<code>int *a = (n * sizeof(int));</code>,为长度为n的int型数组分配空间。</li>
</ul>
</li>
<li><strong><code>calloc</code>函数</strong>：分配内存块，并且对内存块进行清零。
<ul>
<li>原型：<code>void *calloc(size_t nmemb, size_t size);</code>,calloc函数为nmemb个元素的数组分配内存空间，其中每个元素的长度都是size个字节。</li>
<li>在分配了内存之后，calloc函数会==通过把所有位设置为0的方式进行初始化==。</li>
<li>将nemeb设为1，可以为==任何类型的数据项分配内存==。</li>
<li>示例：<code>int *a = calloc(n, sizeof(int))</code>，为长度为n的int型数组分配空间。</li>
</ul>
</li>
<li><strong><code>realloc</code>函数</strong>：调整先前分配的内存块大小。
<ul>
<li>原型：<code>void *realloc(void *ptr, size_t size);</code>,调用realloc函数时，==ptr必须指向先前通过malloc，calloc或realloc的调用获得的内存块==。size表示内存块的新尺寸。</li>
<li>如果realloc==以空指针作为第一个实际参数，那么它的行为就行malloc函数一样==。</li>
<li>如果realloc==以0作为第二个实际参数，那么它会释放掉内存块==。</li>
</ul>
</li>
</ol>
</li>
<li><strong>内存分配函数的返回值</strong>：
<ul>
<li><strong><code>void *</code></strong>:内存分配函数会返回<code>void *</code>类型的值，该类型的指针是==通用指针==，指向分配的内存。
<ul>
<li>可以将==<code>void *</code>类型的变量赋给任意类型的指针变量。</li>
</ul>
</li>
</ul>
</li>
<li><strong>空指针</strong>：
<ul>
<li>当找不到需要的足够大的内存块时，内存分配函数会返回==空指针==；</li>
<li>空指针是==不指向任何地方的指针==，这是一个用于区别于所有有效指针的特殊值。</li>
<li>测试内存分配函数的返回值是否是空指针，用来==判断内存分配是否成功==。</li>
<li><strong>NULL</strong>宏：空指针用NULL宏来表示。NULL宏在多个头（包括<code>&lt;stido.h&gt;</code>和<code>&lt;stdlib.h&gt;</code>）中都有定义。</li>
</ul>
</li>
<li><strong>释放存储空间</strong>：
<ul>
<li><strong><code>free()</code>函数</strong>：
<ul>
<li>原型：<code>void free(void *ptr)</code></li>
<li>==调用free函数会释放掉ptr指针指向的内存块==</li>
<li>free函数的实际参数必须是==先前由内存分配函数返回的指针==。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="指向函数的指针"><a class="markdownIt-Anchor" href="#指向函数的指针"></a> 指向函数的指针</h1>
<ul>
<li>如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段==存储空间的首地址==称为这个函数的地址,而且==函数名表示的就是这个地址==。</li>
<li><strong>函数指针</strong>；用一个指针变量来存储函数的地址。</li>
<li><strong>函数指针的声明</strong>：
<ul>
<li>声明模板：<code>函数返回值类型 (*函数指针变量名)(函数参数类型列表);</code></li>
<li>示例：<code>int (*p)(int,int);</code></li>
</ul>
</li>
<li><strong>函数指针调用函数</strong>：
<ul>
<li>通过<code>*</code>运算符来取出实际的函数。也可以直接通过函数指针变量名调用；</li>
<li>示例：</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">int fun(int x);&#x2F;&#x2F;声明函数
int (*p)(int);&#x2F;&#x2F;声明函数指针
p &#x3D; fun; &#x2F;&#x2F;函数指针指向fun函数
int result &#x3D; (*p)(5);&#x2F;&#x2F;调用函数
&#x2F;&#x2F;或者
int result &#x3D; p(5);</code></pre>
</li>
<li><strong>存储函数指针的指针数组</strong>：
<ul>
<li>可以声明元素为函数指针的数组：<code>void (*funs[10])(int);</code></li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"># C</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Web%E5%90%8E%E7%AB%AF/Spring/index.html" rel="prev" title="Spring">
                  <i class="fa fa-angle-left"></i> Spring
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/%E4%B8%93%E4%B8%9A%E5%9F%BA%E7%A1%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/index.html" rel="next" title="C语言-输入输出">
                  C语言-输入输出 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">蜀ICP备2021022902号-1 </a>
      <img src="/images/beian_icon.png" alt="">
  </div>
  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Zestaken</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">678k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10:17</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js" integrity="sha256-4mJNT2bMXxcc1GCJaxBmMPdmah5ji0Ldnd79DKd1hoM=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-AjM0J5XIbiB590BrznLEgZGLnOQWrt62s3BEq65Q/I0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-9cmf7tcLdXpKsPi/2AWE93PbZpTp4M4tqzFk+lWomjU=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
