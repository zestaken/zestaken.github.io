<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <head>
    <link href="/styles/main.css" rel="stylesheet" type="text/css"/>

    <meta charset="UTF-8">
    
    <title>C语言-输入输出 - ZestJourney</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/css/bootstrap.min.css">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/4.6.1/js/bootstrap.min.js"></script>

<script src="https://npm.elemecdn.com/@waline/client@v2/dist/waline.js"></script>
<link
  rel="stylesheet"
  href="https://npm.elemecdn.com/@waline/client@v2/dist/waline.css"
/>
<meta name="generator" content="Hexo 5.4.2"></head>

</head>

<body>
    


        <div>
            <div class="container-fluid position-relative">
                <nav class="navbar navbar-expand-lg navbar-dark  text-white bg-transparent">
                    <div class="container">
                        
                        <a class="navbar-brand" href="/">💖我们的秘密基地💖</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarText">
                            <ul class="navbar-nav mr-auto">
                            </ul>
                            <span class="navbar-text">
                                💕愿你三冬暖，愿你春不寒🍂
                            </span>
                        </div>
                    </div>
                </nav>
                <section class="lover-background"
                    style="background-image: url(/img/banner.jpg)">
                </section>
                <section
                    class="container lover-container d-flex flex-column align-content-center justify-content-center">
                    <div class="row align-items-center pb-5 lover">
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zestaken.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">  
                                    zestaken
                                </h4>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex justify-content-center">
                                <div class="heart"></div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="d-flex flex-column">
                                <img class="mx-auto avatar-img rounded-circle"
                                    src="/img/zinny.jpg" alt="">
                                <h4 class="mx-auto text-white pt-2">
                                    zinny
                                </h4>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="main-hero-waves-area waves-area">
                    <svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                            <path id="gentle-wave"
                                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z">
                            </path>
                        </defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="0"></use>
                            <use xlink:href="#gentle-wave" x="48" y="3"></use>
                            <use xlink:href="#gentle-wave" x="48" y="5"></use>
                            <use xlink:href="#gentle-wave" x="48" y="7"></use>
                        </g>
                    </svg>
                </section>
            </div>

            <div id="Pjax">

  <div class="list-content mx-auto mt-5">
      <div id="article" class="list-top">
          <h5 class="list-text"> C语言-输入输出
          </h5>
          <article>
              <article>
                <h1 id="流"><a class="markdownIt-Anchor" href="#流"></a> 流</h1>
<ul>
<li><strong>流(Stream)</strong>: C语言中，流表示==任意输入的源或任意输出的目的地==。</li>
<li>流经常表示存储在不同介质的==文件==，也经常和==不存储文件的设备(如网络端口，打印机)==关联。</li>
<li><code>&lt;stido.h&gt;</code>中的函数可以处理各种形式的流。</li>
</ul>
<h2 id="文件指针"><a class="markdownIt-Anchor" href="#文件指针"></a> 文件指针</h2>
<ul>
<li><strong>文件指针(file pointer)</strong>：C程序中==对流的访问是通过文件指针来实现的==。</li>
<li><strong>文件指针的类型</strong>：<code>FILE *</code>
<ul>
<li>FILE类型是在<code>&lt;stdio.h&gt;</code>中声明的。</li>
<li>示例:<code>FILE *fp1;</code></li>
</ul>
</li>
</ul>
<h2 id="标准流和重定向"><a class="markdownIt-Anchor" href="#标准流和重定向"></a> 标准流和重定向</h2>
<ul>
<li><code>&lt;stdio.h&gt;</code>提供了3个标准流：
<ol>
<li><code>stdin</code>:标准输入流，默认是键盘。</li>
<li><code>stdout</code>:标准输出流，默认是屏幕。</li>
<li><code>stderr</code>:标准错误，默认是屏幕。</li>
</ol>
</li>
<li><strong>标准流的特性</strong>：
<ul>
<li>这三个标准流==可以直接使用，不需要对其进行声明，也不用打开或者关闭==。</li>
<li>stdin,stdout,stderr是三个==文件指针==。</li>
</ul>
</li>
<li><strong>重定向</strong>：
<ul>
<li>操作系统通过==重定向的操作改变标准流的默认含义==。</li>
<li><strong>输出重定向</strong>：使stdin流表示文件，而不是键盘,通过在命令行中使用<code>&lt;</code>实现，如：<code>demo &lt;in.dat</code>,运行demo程序时从in.dat文件中获取数据。</li>
<li><strong>输出重定向</strong>：使stdout流表示文件，而不是屏幕，通过在命令行中使用<code>&gt;</code>实现，如：<code>demo &gt;out.dat</code>，运行demo程序时输出到out.dat文件中。</li>
</ul>
</li>
</ul>
<h2 id="文本文件和二进制文件"><a class="markdownIt-Anchor" href="#文本文件和二进制文件"></a> 文本文件和二进制文件</h2>
<ul>
<li><code>&lt;stdio.h&gt;</code>支持<strong>文本文件</strong>和<strong>二进制文件</strong>。</li>
<li><strong>文本文件(text file)</strong>：
<ul>
<li>在文本文件中，==字节表示字符==；</li>
<li><strong>文本文件分为若干行</strong>：
<ul>
<li>文本文件的每一行通常==以一两个特殊字符结尾==；</li>
<li>windows系统是以==回车符<code>\x0d</code>和回行符<code>\x0a</code>==结尾；</li>
<li>unix操作系统是以==一个单独的回行符<code>\x0a</code>==结尾。</li>
</ul>
</li>
<li><strong>文本文件末尾可以包含一个特殊的文件末尾标识符</strong>：
<ul>
<li>文件末尾标识==不是必须的，但一旦存在，就标志着文件的结束==。</li>
</ul>
</li>
</ul>
</li>
<li><strong>二进制文件</strong>：
<ul>
<li>在二进制文件中，==字节可以表示很多类型的数据==。</li>
<li>二进制文件==不分行，没有行末标记和文件末尾标记==。</li>
</ul>
</li>
</ul>
<h1 id="文件操作"><a class="markdownIt-Anchor" href="#文件操作"></a> 文件操作</h1>
<ul>
<li><code>&lt;stdio.h&gt;</code>提供了一系列的文件操作，包括打开文件，关闭文件，改变文件的缓冲方式，删除文件以及重命名文件等。</li>
</ul>
<h2 id="打开文件"><a class="markdownIt-Anchor" href="#打开文件"></a> 打开文件</h2>
<ul>
<li><strong><code>fopen()</code>函数</strong>：
<ul>
<li>将文件打开并用作==流==；</li>
<li>原型：<code>FILE *fopen(const char *filename, const char *mode)</code></li>
<li><strong>filename</strong>：要打开文件的文件名（可能包含文件的==路径信息==。）
<ul>
<li>路径：在windows系统中的路径中含有<code>\</code>,会被C语言识别为转移字符，而导致错误。常用<code>\\</code>或者<code>/</code>来替换路径中的<code>\</code>。</li>
</ul>
</li>
<li><strong>mode</strong>:==模式字符串==，用来指定打算对文件执行的操作。对==文本文件和对二进制文件的模式字符串是不一样的==。
<ul>
<li>对<strong>文本文件</strong>的六种模式字符串：
<ol>
<li><code>&quot;r&quot;</code>:打开文件用于读；</li>
<li><code>&quot;w&quot;</code>:打开文件用于写(文件不需要存在)</li>
<li><code>&quot;a&quot;</code>:打开文件用于追加（文件不需要存在）</li>
<li><code>&quot;r+&quot;</code>&quot;:打开文件用于==读和写，从文件头开始==；</li>
<li><code>&quot;w+&quot;</code>:打开文件用于==读和写（如果文件存在就清空）==；</li>
<li><code>&quot;a+&quot;</code>:打开文件用于==读和写（如果文件存在就追加）==。</li>
</ol>
</li>
<li>对<strong>二进制文件</strong>也有六种模式字符串，只需要在文件文件的基础上==加上b==即可。</li>
</ul>
</li>
<li><strong>返回值</strong>：
<ul>
<li>fopen函数的返回值是一个==文件指针==；</li>
<li>当无法代开文件时，会==返回一个空指针==。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="关闭文件"><a class="markdownIt-Anchor" href="#关闭文件"></a> 关闭文件</h2>
<ul>
<li><strong><code>flclose()</code>函数</strong>:
<ul>
<li>关闭不再使用的文件。</li>
<li>原型：<code>int fclose(FILE *stream)</code></li>
<li><strong>参数</strong>：
<ul>
<li>==必须是来自fopen函数或者freopen函数的文件指针==；</li>
</ul>
</li>
<li><strong>返回值</strong>：
<ul>
<li>如果成功关闭的文件，返回==0==；</li>
<li>如果失败，返回==EOF==(EOP是<code>&lt;stdio.h&gt;</code>中定义的宏)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="为打开的流附加文件"><a class="markdownIt-Anchor" href="#为打开的流附加文件"></a> 为打开的流附加文件</h2>
<ul>
<li><strong><code>freopen()</code>函数</strong>：
<ul>
<li>该函数为已经打开的流附加上一个不同的文件。</li>
<li>原型:<code>FILE *freopen(const char *filename, const char *mode, FILE *stream)</code></li>
<li><strong>参数</strong>:
<ul>
<li>前两个参数同fopen一样；</li>
<li>第三个参数是一个文件指针，指向一个已经打开了的流。</li>
</ul>
</li>
<li><strong>返回值</strong>：
<ul>
<li>正常的返回值是它的第三个参数，一个文件指针；</li>
<li>如果无法打开新文件，返回==空指针==。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="从命令行获取文件名"><a class="markdownIt-Anchor" href="#从命令行获取文件名"></a> 从命令行获取文件名</h2>
<ul>
<li>执行程序时，可以通过将==文件名放入命令行的方式为程序提供文件名==。</li>
<li>示例：命令<code>demo demo1.txt demo2.txt</code>，其中demo是程序名，剩下的是文件名。在C语言中<code>argv[1]</code>指向字符串<code>demo1.txt</code>,<code>argv[2]</code>指向字符串<code>demo2.txt</code></li>
</ul>
<h2 id="临时文件"><a class="markdownIt-Anchor" href="#临时文件"></a> 临时文件</h2>
<ul>
<li><strong>临时文件</strong>：==只在程序运行时==存在的文件。</li>
<li><code>&lt;stdio.h&gt;</code>提供了两个函数来处理临时文件。</li>
<li><code>tmpfile()</code>:
<ul>
<li>tmpfile函数用于==创建临时文件==（用wb+模式打开），这个临时文件在==关闭它或者程序终止==时消失。</li>
<li>原型：<code>FILE *tmpfile(void)</code></li>
<li>返回值：
<ul>
<li>如果创建文件成功，会返回==文件指针==；</li>
<li>如果创建失败，返回==空指针==。</li>
</ul>
</li>
<li>特点：
<ul>
<li>无法知道tmpfile创建的临时文件的==文件名==；</li>
<li>无法使用tmpfile创建的文件成为==永久性的==。</li>
</ul>
</li>
</ul>
</li>
<li><code>tmpnam()</code>:
<ul>
<li>tmpname函数为临时文件==产生名字==。</li>
<li>原型：<code>char *tmpnam(char *s);</code></li>
<li>参数：
<ul>
<li>如果参数是一个空指针，tmpnam会==将生成的文件名存储到一个静态字符数组变量中去，并且返回指向这个变量的指针==；</li>
<li>传递给tmpnam的参数应该是一个==字符数组==，tmpnam会将文件名存储到这个字符数组中去，并==返回指向这个数组第一个元素的指针==。</li>
</ul>
</li>
<li>tmpnam函数常与fopen函数配合生成具有名字的临时文件。</li>
</ul>
</li>
</ul>
<h2 id="文件缓冲"><a class="markdownIt-Anchor" href="#文件缓冲"></a> 文件缓冲</h2>
<ul>
<li>使用文件缓冲的原因：向外存写入或者读出数据都是==相对较慢==的操作。</li>
<li><strong>缓冲(buffering)</strong>：将写入流或者输入流中的数据，先写入==缓冲区==，最后再将缓冲区的内容写入实际的设备。</li>
<li><code>&lt;stdio.h&gt;</code>中的缓冲函数，会在缓冲有用时==自动进行缓冲操作==，缓冲是在后台发生的。</li>
<li><strong><code>fflush</code>函数</strong>：
<ul>
<li>调用fflush函数，可以按照我们希望的频率==将缓冲区的内容写到相应设备上去==。</li>
<li>原型：<code>int fflush(FILE *stream)</code></li>
<li>参数：
<ul>
<li>如果传递的是一个==文件指针==，则将与该文件指针相关联的文件的缓冲区内容写到实际设备。</li>
<li>如果传递的是一个==空指针==，则将所有缓冲区内容写到实际设备上去。</li>
</ul>
</li>
<li>返回值；
<ul>
<li>调用成功，==返回0==;</li>
<li>调用失败，==返回EOF==。</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>setvbuf</code>函数</strong>:
<ul>
<li>改变缓冲流的方法，并且允许控制缓冲区的大小和位置。</li>
<li>原型：<code>int setvbuf(FILE *stream, char *buf, int mode, size_t size);</code></li>
<li>参数：
<ul>
<li><code>stream</code>:需要改变缓冲方式的流；</li>
<li><code>buf</code>:期望的==缓冲区的地址==；
<ul>
<li>如果实参为空指针，则会==创建一个指定大小的缓冲区==。</li>
</ul>
</li>
<li><code>mode</code>:期望的缓冲类型，只能为==下列三个宏==：
<ol>
<li><code>_IOFBF</code>:==满缓冲==，当缓冲区为空时，从流读入数据；当缓冲区满时，向流写入数据；</li>
<li><code>_IOLBF</code>:==行缓冲==，每次从流读入一行数据或者向流写入一行数据；</li>
<li><code>_IONBF</code>:==无缓冲==，直接从流读入数据或者直接向流写入数据，而没有缓冲区。</li>
</ol>
</li>
<li><code>size</code>:缓冲区内==字节的数量==。</li>
</ul>
</li>
<li>返回值：
<ul>
<li>调用成功，==返回0==；</li>
<li>调用失败，==返回非零值==。</li>
</ul>
</li>
</ul>
</li>
<li><code>setbuf</code>函数：
<ul>
<li>setvbuf的早期版。</li>
</ul>
</li>
</ul>
<h2 id="文件删除与重命名"><a class="markdownIt-Anchor" href="#文件删除与重命名"></a> 文件删除与重命名</h2>
<ul>
<li><strong><code>remove</code>函数</strong>：
<ul>
<li>用于删除文件；</li>
<li>原型：<code>int remove(const char *filename)</code></li>
<li>参数：
<ul>
<li><strong>文件名</strong>；</li>
</ul>
</li>
<li>返回值：
<ul>
<li>成功，0；</li>
<li>失败，非零值。</li>
</ul>
</li>
<li>要删除的文件需要<strong>关闭</strong>。</li>
</ul>
</li>
<li><strong><code>rename</code>函数</strong>：
<ul>
<li>改变文件的名字；</li>
<li>原型：<code>int rename(const char *old, const char *new)</code></li>
<li>参数：
<ul>
<li>old：原来的文件名；</li>
<li>new：新的文件名。</li>
</ul>
</li>
<li>返回值：
<ul>
<li>成功，0；</li>
<li>失败，非零值。</li>
</ul>
</li>
<li>注意：
<ul>
<li>要改名的文件需要<strong>关闭</strong>。</li>
</ul>
</li>
</ul>
</li>
</ul>

              </article>
          </article>
      </div>
  </div>

</div>



        </div>


        <!-- <div class="p-5 text-center ">
  <p class="h6"> <a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2021022902号-1</a> ※ <a
          href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">川公网安备51010802032250号</a></p>
</div> -->

<!-- <div class="p-5 text-center">
  <img src="/img/beian_icon.png" alt="备案图标" class="icon" style="max-width: 48px; max-height: 48px; vertical-align: middle;">
  <p class="h6">
    <a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2021022902号-1</a> ※
    <a href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">川公网安备51010802032250号</a>
  </p>
</div> -->

<div class="p-5 text-center ">
  <p class="h6"> zestaken ❤️ zinny </p>
</div>
</body>

</html>