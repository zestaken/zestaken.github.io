<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.zestaken.top","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":true,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="准备工作  什么是词云：  “词云”就是通过形成“关键词云层”或“关键词渲染”，对网络文本中出现频率较高的“关键词”的视觉上的突出。 示例：    wordcloud包：wordcloud是优秀的词云展示第三方库，官网 Matplotlib：是 Python 的绘图库。 它可与 NumPy 一起使用，提供了一种有效的 MatLab 开源替代方案。官网 jieba: jieba库是一款优秀的 Py">
<meta property="og:type" content="article">
<meta property="og:title" content="Python实现词云">
<meta property="og:url" content="http://www.zestaken.top/post/%E9%A1%B9%E7%9B%AE/Python%E5%AE%9E%E7%8E%B0%E8%AF%8D%E4%BA%91/index.html">
<meta property="og:site_name" content="ZestJourney">
<meta property="og:description" content="准备工作  什么是词云：  “词云”就是通过形成“关键词云层”或“关键词渲染”，对网络文本中出现频率较高的“关键词”的视觉上的突出。 示例：    wordcloud包：wordcloud是优秀的词云展示第三方库，官网 Matplotlib：是 Python 的绘图库。 它可与 NumPy 一起使用，提供了一种有效的 MatLab 开源替代方案。官网 jieba: jieba库是一款优秀的 Py">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613142756.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613153856.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613171040.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613173258.jpg">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613173325.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613174516.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613184511.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613184706.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613174516.png">
<meta property="og:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613185335.png">
<meta property="article:published_time" content="2021-06-13T00:00:19.000Z">
<meta property="article:modified_time" content="2022-09-17T11:30:12.805Z">
<meta property="article:author" content="Zestaken">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="深度学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613142756.png">


<link rel="canonical" href="http://www.zestaken.top/post/%E9%A1%B9%E7%9B%AE/Python%E5%AE%9E%E7%8E%B0%E8%AF%8D%E4%BA%91/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.zestaken.top/post/%E9%A1%B9%E7%9B%AE/Python%E5%AE%9E%E7%8E%B0%E8%AF%8D%E4%BA%91/index.html","path":"/post/项目/Python实现词云/index.html","title":"Python实现词云"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Python实现词云 | ZestJourney</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ZestJourney</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">乐游记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.</span> <span class="nav-text"> 准备工作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%92%88%E5%AF%B9%E8%8B%B1%E6%96%87%E6%96%87%E6%9C%AC%E7%AE%80%E5%8D%95%E5%B0%9D%E8%AF%95"><span class="nav-number">2.</span> <span class="nav-text"> 针对英文文本简单尝试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wordcloud%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">3.</span> <span class="nav-text"> WordCloud()的参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%AD%E6%96%87%E8%AF%8D%E4%BA%91"><span class="nav-number">4.</span> <span class="nav-text"> 中文词云</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%92%99%E7%89%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">5.</span> <span class="nav-text"> 蒙版的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%8D%E4%BA%91%E8%B7%9F%E9%9A%8F%E5%9B%BE%E7%89%87%E8%89%B2%E5%BD%A9"><span class="nav-number">6.</span> <span class="nav-text"> 词云跟随图片色彩</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8E%BB%E6%8E%89%E6%97%A0%E5%AE%9E%E6%84%8F%E7%9A%84%E8%AF%8D"><span class="nav-number">7.</span> <span class="nav-text"> 去掉无实意的词</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Zestaken</p>
  <div class="site-description" itemprop="description">吾好梦中读书~</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">84</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zestaken.top/post/%E9%A1%B9%E7%9B%AE/Python%E5%AE%9E%E7%8E%B0%E8%AF%8D%E4%BA%91/index.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zestaken">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZestJourney">
      <meta itemprop="description" content="吾好梦中读书~">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Python实现词云 | ZestJourney">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python实现词云
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-13 08:00:19" itemprop="dateCreated datePublished" datetime="2021-06-13T08:00:19+08:00">2021-06-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 19:30:12" itemprop="dateModified" datetime="2022-09-17T19:30:12+08:00">2022-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作"></a> 准备工作</h1>
<ul>
<li>什么是词云：
<ul>
<li>“词云”就是通过形成“关键词云层”或“关键词渲染”，对网络文本中出现频率较高的“关键词”的视觉上的突出。</li>
<li>示例：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613142756.png" alt="" /></li>
</ul>
</li>
<li>wordcloud包：wordcloud是优秀的词云展示第三方库，<a target="_blank" rel="noopener" href="http://amueller.github.io/word_cloud/index.html">官网</a></li>
<li>Matplotlib：是 Python 的绘图库。 它可与 NumPy 一起使用，提供了一种有效的 MatLab 开源替代方案。<a target="_blank" rel="noopener" href="https://matplotlib.org/">官网</a></li>
<li>jieba: jieba库是一款优秀的 Python 第三方中文分词库.<a target="_blank" rel="noopener" href="https://github.com/fxsjy/jieba">github地址</a></li>
<li>PIL: Python图像库PIL(Python Image Library)是python的第三方图像处理库，但是由于其强大的功能与众多的使用人数，几乎已经被认为是python官方图像处理库了。</li>
<li>安装以上库：<code>pip install wordcloud matplotlib jieba pil</code>，如果使用pycharm的话，也可以不装，在使用到的时候被报错提醒再装。</li>
<li>最好使用Anaconda安装，然后pycharm中使用Anaconda的解释器，毕竟Anaconda是个包管理器，可以一次安装，多次使用：<code>conda install -c conda-forge wordcloud jieba</code>,因为Anaconda原生的库中没有wordcloud 和jieba这两个包，所以要到conda-forge这个库中下载，而matplotlib 和 pil比较通用，直接<code>conda install matplotlib pil</code>就行。（我的Anaconda都自带这两个包）</li>
</ul>
<h1 id="针对英文文本简单尝试"><a class="markdownIt-Anchor" href="#针对英文文本简单尝试"></a> 针对英文文本简单尝试</h1>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"># 导入相关包
from wordcloud import WordCloud
import matplotlib.pyplot as plt

# 打开要读的文档
text &#x3D; open(&#39;English.txt&#39;).read()

# 生成wordcloud对象
wc &#x3D; WordCloud().generate(text)

# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud.png&quot;)</code></pre>
<ul>
<li>效果：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613153856.png" alt="" /></li>
<li>文本：</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">Everybody has to face bad days in their life. Some face ailments, some face fears, some face poverty, some face helplessness etc etc. No one can escape from it. It is a rule of life. Two things always combines together like joy and sadness, laugh and cry, health and illness, profit and loss, morning and night, confidence and inferiority complex, victory and failure likewise good days and bad days.</code></pre>
<h1 id="wordcloud的参数"><a class="markdownIt-Anchor" href="#wordcloud的参数"></a> WordCloud()的参数</h1>
<ol>
<li>width:指定词云对象生成图片的宽度,默认400像素,<code>w=wordcloud.WordCloud(width=600)</code></li>
<li>height:指定词云对象生成图片的高度,默认200像素 <code>w=wordcloud.WordCloud(height=400)</code></li>
<li>min_font_size:指定词云中字体的最小字号，默认4号 <code>w=wordcloud.WordCloud(min_font_size=10)</code></li>
<li>max_font_size:指定词云中字体的最大字号，根据高度自动调节, <code>w=wordcloud.WordCloud(max_font_size=20)</code></li>
<li>font_step:指定词云中字体字号的步进间隔，默认为1, <code>w=wordcloud.WordCloud(font_step=2)</code></li>
<li>font_path:指定文体文件的路径，默认None, <code>w=wordcloud.WordCloud(font_path=&quot;msyh.ttc&quot;)</code></li>
<li>max_words:指定词云显示的最大单词数量,默认200, <code>w=wordcloud.WordCloud(max_words=20)</code></li>
<li>stop_words:指定词云的排除词列表，即不显示的单词列表, <code>w=wordcloud.WordCloud(stop_words=&quot;Python&quot;)</code></li>
<li>mask:蒙版，指定词云形状，默认为长方形，需要读取图片来设置</li>
</ol>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from scipy.msc import imread
mk&#x3D;imread(&quot;pic.png&quot;)
w&#x3D;wordcloud.WordCloud(mask&#x3D;mk)</code></pre>
<ol start="11">
<li>background_color:指定词云图片的背景颜色，默认为黑色, w=wordcloud.WordCloud(background_color=“white”)</li>
<li>mode: 颜色模式，默认为RGB模式，如果为RGBA模式且background_color设置为None，则背景将透明。</li>
</ol>
<h1 id="中文词云"><a class="markdownIt-Anchor" href="#中文词云"></a> 中文词云</h1>
<ul>
<li>因为英文文本用空格分隔，所以不用分词，但是中文文本需要进行分词处理，才能使结果有意义。同时还需要注意编码方式的指定。同时也要注意<strong>wrodcloud</strong>的中文字体的指定</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from wordcloud import WordCloud
import matplotlib.pyplot as plt
import jieba

# 打开要读的文档
file &#x3D; open(&#39;kyj.txt&#39;, encoding&#x3D;&#39;utf-8&#39;).read()

# 用jieba库来分词
file &#x3D; &#39; &#39;.join(jieba.cut(file))
# 生成wordcloud对象
wc &#x3D; WordCloud(font_path&#x3D;&#39;2.ttf&#39;).generate(file) #一定要指定中文字体，不然无法显示

# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud2.png&quot;)</code></pre>
<ul>
<li>分词的效果：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613171040.png" alt="" /></li>
</ul>
<h1 id="蒙版的使用"><a class="markdownIt-Anchor" href="#蒙版的使用"></a> 蒙版的使用</h1>
<ul>
<li>需要一张蒙版图片，最后词云会对应图片中白色的部分不显示内容，黑色的部分显示内容
<ul>
<li>原始图片<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613173258.jpg" alt="" /></li>
<li>词云样式：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613173325.png" alt="" /></li>
</ul>
</li>
<li>代码</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from wordcloud import WordCloud
import matplotlib.pyplot as plt
import jieba
import numpy as np
from PIL import Image

# 打开要读的文档
file &#x3D; open(&#39;kyj.txt&#39;, encoding&#x3D;&#39;utf-8&#39;).read()

file &#x3D; &#39; &#39;.join(jieba.cut(file))
print(file)
# 生成wordcloud对象
mask &#x3D; np.array(Image.open(&quot;3.jpg&quot;)) #根据图片生成mask，实质是个数组
wc &#x3D; WordCloud(font_path&#x3D;&#39;2.ttf&#39;, mask&#x3D;mask, mode&#x3D;&#39;RGBA&#39;, background_color&#x3D;None).generate(file)

# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud2.png&quot;)</code></pre>
<h1 id="词云跟随图片色彩"><a class="markdownIt-Anchor" href="#词云跟随图片色彩"></a> 词云跟随图片色彩</h1>
<ul>
<li>需要导入wordcloud的ImageColorGenerator()方法</li>
<li>代码：</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from wordcloud import WordCloud
import matplotlib.pyplot as plt
import jieba
import numpy as np
from PIL import Image
from wordcloud import ImageColorGenerator

# 打开要读的文档
file &#x3D; open(&#39;kyj.txt&#39;, encoding&#x3D;&#39;utf-8&#39;).read()

file &#x3D; &#39; &#39;.join(jieba.cut(file))
print(file)
# 生成wordcloud对象
mask &#x3D; np.array(Image.open(&quot;3.jpg&quot;)) #根据图片生成mask，实质是个数组
wc &#x3D; WordCloud(font_path&#x3D;&#39;2.ttf&#39;, mask&#x3D;mask, mode&#x3D;&#39;RGBA&#39;, background_color&#x3D;None).generate(file)

# 让词云跟随图片色彩
image_colors &#x3D; ImageColorGenerator(mask) # 获取图片各个部分的颜色
wc.recolor(color_func&#x3D;image_colors) #将这些颜色设置给wordcloud对象

# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud2.png&quot;)</code></pre>
<ul>
<li>效果；<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613174516.png" alt="" /></li>
</ul>
<h1 id="去掉无实意的词"><a class="markdownIt-Anchor" href="#去掉无实意的词"></a> 去掉无实意的词</h1>
<ul>
<li>有一些词如：“的，一些”等，虽然出现频率很高，但并没意义。所以我们需要去掉这些词，这在wordcloud中叫做停用词。</li>
<li>对于英文：
<ul>
<li>wordcloud自带了一个停用词表，是一个集合数据类型。</li>
<li>没有停用词<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613184511.png" alt="" /></li>
<li>有停用词：<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613184706.png" alt="" /></li>
<li>代码：需要引入wordcloud的STOPWORDS</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from wordcloud import WordCloud
import matplotlib.pyplot as plt
import jieba
import numpy as np
from PIL import Image
from wordcloud import ImageColorGenerator
from wordcloud import STOPWORDS


# 打开要读的文档
file &#x3D; open(&#39;English.txt&#39;, encoding&#x3D;&#39;utf-8&#39;).read()

# file &#x3D; &#39; &#39;.join(jieba.cut(file))
print(file)
# 生成wordcloud对象
# 停用词
stopwords &#x3D; STOPWORDS #获取wordcloud自带的停用词表
stopwords.add(&quot;T&quot;) # 可以自己在这个停用词集合中添加词
mask &#x3D; np.array(Image.open(&quot;3.jpg&quot;)) #根据图片生成mask，实质是个数组
wc &#x3D; WordCloud(stopwords&#x3D;stopwords,font_path&#x3D;&#39;2.ttf&#39;, mask&#x3D;mask, mode&#x3D;&#39;RGBA&#39;, background_color&#x3D;None).generate(file)

# 让词云跟随图片色彩
image_colors &#x3D; ImageColorGenerator(mask) # 获取图片各个部分的颜色
wc.recolor(color_func&#x3D;image_colors) #将这些颜色设置给wordcloud对象



# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud2.png&quot;)</code></pre>
<ul>
<li>对于中文，原理一样，但是需要自己去准备停用词表，<a target="_blank" rel="noopener" href="https://github.com/goto456/stopwords">下载链接</a>
<ul>
<li>没有停用词<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613174516.png" alt="" /></li>
<li>有停用词<br />
<img src="https://zjpicture.oss-cn-beijing.aliyuncs.com/giteePic/picgo-master/20210613185335.png" alt="" /></li>
<li>代码：</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">from wordcloud import WordCloud
import matplotlib.pyplot as plt
import jieba
import numpy as np
from PIL import Image
from wordcloud import ImageColorGenerator



# 打开要读的文档
file &#x3D; open(&#39;kyj.txt&#39;, encoding&#x3D;&#39;utf-8&#39;).read()

file &#x3D; &#39; &#39;.join(jieba.cut(file))
print(file)

# 生成wordcloud对象
# 停用词
stopwords &#x3D; set() #设为集合
content &#x3D; [line.strip() for line in open(&#39;cn_stopwords.txt&#39;,encoding&#x3D;&#39;utf-8&#39;).readlines()] #从停用词表中获取数据
stopwords.update(content) #将停用词表存入集合中
mask &#x3D; np.array(Image.open(&quot;3.jpg&quot;)) #根据图片生成mask，实质是个数组
wc &#x3D; WordCloud(stopwords&#x3D;stopwords,font_path&#x3D;&#39;2.ttf&#39;, mask&#x3D;mask, mode&#x3D;&#39;RGBA&#39;, background_color&#x3D;None).generate(file)

# 让词云跟随图片色彩
image_colors &#x3D; ImageColorGenerator(mask) # 获取图片各个部分的颜色
wc.recolor(color_func&#x3D;image_colors) #将这些颜色设置给wordcloud对象


# 根据wordCloud对象绘图
plt.imshow(wc, interpolation&#x3D;&#39;bilinear&#39;) #绘制图片 interpolation是设置图片的效果
plt.axis(&quot;off&quot;) #关闭坐标轴
plt.show()	#展示结果图

# 将生成的wordcloud对象转化为图片文件存储
wc.to_file(&quot;wordcloud2.png&quot;)</code></pre>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
              <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag"># 深度学习</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/LeetCode/LeetCode-%E5%AD%97%E7%AC%A6%E4%B8%B2/index.html" rel="prev" title="Leetcode-字符串">
                  <i class="fa fa-angle-left"></i> Leetcode-字符串
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Python/Python%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83/index.html" rel="next" title="Python深度学习环境">
                  Python深度学习环境 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Zestaken</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">678k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10:17</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js" integrity="sha256-4mJNT2bMXxcc1GCJaxBmMPdmah5ji0Ldnd79DKd1hoM=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-AjM0J5XIbiB590BrznLEgZGLnOQWrt62s3BEq65Q/I0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-9cmf7tcLdXpKsPi/2AWE93PbZpTp4M4tqzFk+lWomjU=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
